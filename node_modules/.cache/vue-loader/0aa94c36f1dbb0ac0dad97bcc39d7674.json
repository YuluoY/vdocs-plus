{"remainingRequest":"D:\\桌面\\vdocs-plus\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\桌面\\vdocs-plus\\src\\components\\h-article-sidebar.vue?vue&type=style&index=0&id=68537380&scoped=true&lang=scss&","dependencies":[{"path":"D:\\桌面\\vdocs-plus\\src\\components\\h-article-sidebar.vue","mtime":1661280552266},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\css-loader\\dist\\cjs.js","mtime":1661267354466},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1661267358739},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\postcss-loader\\src\\index.js","mtime":1661267356452},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1661267353103},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661267353134},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\vue-loader\\lib\\index.js","mtime":1661267357130}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5oLWFydGljbGUtc2lkZWJhciB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHdpZHRoOiAxNWVtOwogIHRvcDogMjBlbTsKICBwYWRkaW5nOiAxMHB4IDEwcHg7CiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpOwogIHotaW5kZXg6IDk5OwogIG1heC1oZWlnaHQ6IDQwMHB4OwogIG92ZXJmbG93LXk6IGF1dG87CiAgcmlnaHQ6IDFlbTsKfQoKLmgtYXJ0aWNsZS1zaWRlYmFyMiB7CiAgcG9zaXRpb246IGZpeGVkICFpbXBvcnRhbnQ7CiAgdG9wOiAzZW0gIWltcG9ydGFudDsKfQo="},{"version":3,"sources":["h-article-sidebar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"h-article-sidebar.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div class=\"h-article-sidebar\">\r\n        <div class=\"sidebar-wrapper\" @click=\"move\">\r\n            <div class=\"list\">目录</div>\r\n            <div v-for=\"(n, i) in articleSidebar\" :key=\"i\"\r\n                 v-html=\"n.innerHTML\">\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n    import {addClass, deleteClass, isClassname} from \"@/utils/dom\";\r\n\r\n    export default {\r\n        name: \"HArticleSidebar\",\r\n        data() {\r\n            return {\r\n                titles: [],\r\n                articleSidebar: [],\r\n                activeStep: 0,\r\n                speed: 1,\r\n            }\r\n        },\r\n        methods: {\r\n            move(event) {\r\n                if (event.target.nodeName === 'A') {\r\n                    this.jump(event.target.innerText)\r\n                    this.updateTitleActive(event.target.parentNode)\r\n                }\r\n            },\r\n            updateTitleActive(node) {\r\n                const TITLEACTIVE = 'title-active';\r\n                if (!this.titles.length) {\r\n                    const sidebar = document.getElementsByClassName('sidebar-wrapper')[0];\r\n                    this.titles = Array.from(sidebar.getElementsByTagName('div'));\r\n                }\r\n                this.titles.forEach(n => isClassname(n, TITLEACTIVE) && deleteClass(n, TITLEACTIVE))\r\n                addClass(node, TITLEACTIVE)\r\n            },\r\n            jump(id) {\r\n                let tar = document.getElementById('anchor-' + id)// 获取需要滚动的距离\r\n\r\n                const header = window.location.origin // http://localhost/8080\r\n                const path = window.location.hash.substring(1).split('#')[0] // 路由路径\r\n                const anchor = tar.parentNode.id // 锚点名称\r\n                window.location.href = `${header}/#${path}#${anchor}`\r\n\r\n                clearInterval(this.timer)\r\n                let gap = Math.abs(tar.getBoundingClientRect().bottom) / 255;\r\n                // getBoundingClientRect() 可以找到当前元素位于浏览器视口的绝对定位距离\r\n                tar.getBoundingClientRect().bottom < 0 && (gap = -gap);\r\n                clearInterval(this.timer)\r\n                console.time('文章导航跳转耗时：')\r\n                this.timer = setInterval(_ => {\r\n                    // 减去顶部导航栏高度100\r\n                    let total = tar.getBoundingClientRect().bottom - 100;\r\n                    if ((gap < 0 && total >= 0) || (gap > 0 && total <= 0)) {\r\n                        clearInterval(this.timer)\r\n                        console.timeEnd('文章导航跳转耗时：')\r\n                    }\r\n                    document.body.scrollTo(0, document.body.scrollTop + gap)\r\n                }, this.speed)\r\n            },\r\n        },\r\n        mounted() {\r\n            setTimeout(() => this.articleSidebar = $hUtils.articleSidebar)\r\n            this.$nextTick(() => {\r\n                const arr = window.location.href.split('#');\r\n                if (arr.length === 3)\r\n                    this.jump(decodeURI(arr[arr.length - 1]))\r\n            })\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n  .h-article-sidebar {\r\n    position: absolute;\r\n    width: 15em;\r\n    top: 20em;\r\n    padding: 10px 10px;\r\n    background-color: rgba(255, 255, 255, 0.5);\r\n    z-index: 99;\r\n    max-height: 400px;\r\n    overflow-y: auto;\r\n    right: 1em;\r\n  }\r\n\r\n  .h-article-sidebar2 {\r\n    position: fixed !important;\r\n    top: 3em !important;\r\n  }\r\n</style>"]}]}