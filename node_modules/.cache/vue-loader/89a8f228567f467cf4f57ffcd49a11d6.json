{"remainingRequest":"D:\\桌面\\vdocs-plus\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\桌面\\vdocs-plus\\src\\server\\component\\h-upload.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\桌面\\vdocs-plus\\src\\server\\component\\h-upload.vue","mtime":1661333339739},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661267353134},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\babel-loader\\lib\\index.js","mtime":1661267356503},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661267353134},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\vue-loader\\lib\\index.js","mtime":1661267357130}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7QkFTRV9VUkx9IGZyb20gIkAvYXhpb3MiOwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ0hVcGxvYWQnLAogICAgcHJvcHM6IHsKICAgICAgICBzZXRJbWdVcmw6IEZ1bmN0aW9uLAogICAgICAgIGltZ1VybDoge3R5cGU6IFN0cmluZywgZGVmYXVsdDogJyd9LAogICAgfSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgbG9jYWxJbWdVcmw6ICcnLAogICAgICAgICAgICBVUExPQURfVVJMOiAnJwogICAgICAgIH07CiAgICB9LAogICAgY3JlYXRlZCgpIHsKICAgICAgICB0aGlzLlVQTE9BRF9VUkwgPSBCQVNFX1VSTDsKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgaGFuZGxlQXZhdGFyU3VjY2VzcyhyZXMsIGZpbGUpIHsKICAgICAgICAgICAgdGhpcy5sb2NhbEltZ1VybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZS5yYXcpOwogICAgICAgICAgICAvLyB0aGlzLmxvY2FsSW1nVXJsID0gcmVzLnVybDsKICAgICAgICAgICAgdGhpcy5zZXRJbWdVcmwgJiYgdGhpcy5zZXRJbWdVcmwocmVzLnVybCkKICAgICAgICB9LAogICAgICAgIGJlZm9yZUF2YXRhclVwbG9hZChmaWxlKSB7CiAgICAgICAgICAgIC8vIGNvbnN0IGlzSlBHID0gZmlsZS50eXBlID09PSAnaW1hZ2UvanBlZyc7CiAgICAgICAgICAgIC8vIGNvbnN0IGlzTHQyTSA9IGZpbGUuc2l6ZSAvIDEwMjQgLyAxMDI0IDwgMjsKCiAgICAgICAgICAgIC8vIGlmICghaXNKUEcpIHsKICAgICAgICAgICAgLy8gICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S4iuS8oOWktOWDj+WbvueJh+WPquiDveaYryBKUEcg5qC85byPIScpOwogICAgICAgICAgICAvLyB9CiAgICAgICAgICAgIC8vIGlmICghaXNMdDJNKSB7CiAgICAgICAgICAgIC8vICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfkuIrkvKDlpLTlg4/lm77niYflpKflsI/kuI3og73otoXov4cgMk1CIScpOwogICAgICAgICAgICAvLyB9CiAgICAgICAgICAgIC8vIHJldHVybiBpc0pQRyAmJiBpc0x0Mk07CiAgICAgICAgICAgIC8vIHJldHVybiBpc0x0Mk0KICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["h-upload.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"h-upload.vue","sourceRoot":"src/server/component","sourcesContent":["<template>\r\n    <div class=\"h-upload\">\r\n        <el-upload\r\n                class=\"avatar-uploader\"\r\n                :action=\"UPLOAD_URL + '/api/rest/upload'\"\r\n                :show-file-list=\"false\"\r\n                :on-success=\"handleAvatarSuccess\"\r\n                :before-upload=\"beforeAvatarUpload\">\r\n            <img v-if=\"imgUrl || localImgUrl\" :src=\"imgUrl || localImgUrl\" class=\"avatar\">\r\n            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n        </el-upload>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {BASE_URL} from \"@/axios\";\r\n\r\n    export default {\r\n        name: 'HUpload',\r\n        props: {\r\n            setImgUrl: Function,\r\n            imgUrl: {type: String, default: ''},\r\n        },\r\n        data() {\r\n            return {\r\n                localImgUrl: '',\r\n                UPLOAD_URL: ''\r\n            };\r\n        },\r\n        created() {\r\n            this.UPLOAD_URL = BASE_URL;\r\n        },\r\n        methods: {\r\n            handleAvatarSuccess(res, file) {\r\n                this.localImgUrl = URL.createObjectURL(file.raw);\r\n                // this.localImgUrl = res.url;\r\n                this.setImgUrl && this.setImgUrl(res.url)\r\n            },\r\n            beforeAvatarUpload(file) {\r\n                // const isJPG = file.type === 'image/jpeg';\r\n                // const isLt2M = file.size / 1024 / 1024 < 2;\r\n\r\n                // if (!isJPG) {\r\n                //     this.$message.error('上传头像图片只能是 JPG 格式!');\r\n                // }\r\n                // if (!isLt2M) {\r\n                //     this.$message.error('上传头像图片大小不能超过 2MB!');\r\n                // }\r\n                // return isJPG && isLt2M;\r\n                // return isLt2M\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scope>\r\n    .avatar-uploader .el-upload {\r\n        border: 1px dashed #d9d9d9;\r\n        border-radius: 6px;\r\n        cursor: pointer;\r\n        position: relative;\r\n        overflow: hidden;\r\n    }\r\n\r\n    .avatar-uploader .el-upload:hover {\r\n        border-color: #409EFF;\r\n    }\r\n\r\n    .avatar-uploader-icon {\r\n        font-size: 28px;\r\n        color: #8c939d;\r\n        width: 178px;\r\n        height: 178px;\r\n        line-height: 178px;\r\n        text-align: center;\r\n    }\r\n\r\n    .avatar {\r\n        width: 178px;\r\n        height: 178px;\r\n        display: block;\r\n    }\r\n</style>"]}]}