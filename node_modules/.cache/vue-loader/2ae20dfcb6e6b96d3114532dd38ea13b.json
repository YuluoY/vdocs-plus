{"remainingRequest":"D:\\桌面\\vdocs-plus\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\桌面\\vdocs-plus\\src\\components\\comment\\h-comment-area.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\桌面\\vdocs-plus\\src\\components\\comment\\h-comment-area.vue","mtime":1660980617730},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661267353134},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\babel-loader\\lib\\index.js","mtime":1661267356503},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661267353134},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\vue-loader\\lib\\index.js","mtime":1661267357130}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7bWFwU3RhdGV9IGZyb20gInZ1ZXgiOwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogIkhDb21tZW50QXJlYSIsCiAgICBwcm9wczogewogICAgICAgIGlzUmVwbHlTdGF0ZTogQm9vbGVhbiwKICAgICAgICBpZDogU3RyaW5nLAogICAgfSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgbW9kZWw6IHsKICAgICAgICAgICAgICAgIGltZ1VybDogcmVxdWlyZSgnQC9hc3NldHMvaW1nLzEuanBnJyksCiAgICAgICAgICAgICAgICBuYW1lOiAnJywKICAgICAgICAgICAgICAgIGVtYWlsOiAnJywKICAgICAgICAgICAgICAgIGFkZHJlc3M6ICcnLAogICAgICAgICAgICAgICAgY29udGVudDogJycsCiAgICAgICAgICAgICAgICB3b3JkczogMCwKICAgICAgICAgICAgICAgIGNuYW1lOiAnJwogICAgICAgICAgICB9LAogICAgICAgICAgICBoaW50czogewogICAgICAgICAgICAgICAgbmFtZUhpbnQ6ICdRUS/ljL/lkI3mmLXnp7AnLAogICAgICAgICAgICAgICAgZW1haWxIaW50OiAn6YKu566xJywKICAgICAgICAgICAgICAgIGFkZHJlc3NIaW50OiAn5Y2a5a6i572R5Z2AJywKICAgICAgICAgICAgICAgIGNvbnRlbnRIaW50OiAn5piv5pe25YCZ5bGV546w5L2g55yf5q2j55qE5oqA5pyv5LqG77yB77yI5o+Q56S677ya6L6T5YWlUVHlj7fkvJroh6rliqjloavlhpnlpLTlg4/lkozpgq7nrrHlk6Z+77yJJywKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICBjb21wdXRlZDogbWFwU3RhdGUoewogICAgICAgIGJyb3dzZXJUeXBlOiBzdGF0ZSA9PiBzdGF0ZS5hcHAuYnJvd3NlclR5cGUsCiAgICB9KSwKICAgIG1ldGhvZHM6IHsKICAgICAgICAvLyDlj5HluIPor4TorroKICAgICAgICBhc3luYyBvblJlbGVhc2UoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLm1vZGVsLmNvbnRlbnQudHJpbSgpID09PSAnJykgewogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfmgqjov5jmsqHmnInloavlhpnku7vkvZXor4Torrrlk6bvvIEnKQogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IGJyYW5kSW5mbyA9IG5hdmlnYXRvci51c2VyQWdlbnQucmVwbGFjZSgvKFwoKXwoXCkpL2csICcnKS5zcGxpdCgnICcpOwogICAgICAgICAgICBjb25zdCBzeXN0ZW0gPSBgJHticmFuZEluZm9bMV19ICR7YnJhbmRJbmZvWzNdfWAucmVwbGFjZSgvKFwuMCl8KDspL2csICcnKTsKICAgICAgICAgICAgbGV0IGJyb3dzZXIgPSB0aGlzLmJyb3dzZXJUeXBlOwoKICAgICAgICAgICAgaWYgKHRoaXMuYnJvd3NlclR5cGUgPT09ICdDaHJvbWUnKSB7CiAgICAgICAgICAgICAgICBicm93c2VyID0gYnJhbmRJbmZvWzEwXS5yZXBsYWNlKC8oXC8pL2csICcgJyk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5icm93c2VyVHlwZSA9PT0gJ0ZpcmVmb3gnKSB7CiAgICAgICAgICAgICAgICBicm93c2VyID0gYnJhbmRJbmZvWzhdLnJlcGxhY2UoLyhcLykvZywgJyAnKTsKICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmJyb3dzZXJUeXBlID09PSAnUVFCcm93c2VyJykgewogICAgICAgICAgICAgICAgYnJvd3NlciA9IGJyYW5kSW5mb1sxMl0ucmVwbGFjZSgvKFwvKS9nLCAnICcpOwogICAgICAgICAgICB9CgogICAgICAgICAgICB0aGlzLm1vZGVsLm5hbWUgPT09ICcnICYmICh0aGlzLm1vZGVsLm5hbWUgPSAnQW5vbnltb3VzJykKICAgICAgICAgICAgdGhpcy5tb2RlbC5hZGRyZXNzID09PSAnJyAmJiAodGhpcy5tb2RlbC5hZGRyZXNzID0gJyMnKQogICAgICAgICAgICB0aGlzLm1vZGVsLnN5c3RlbSA9IHN5c3RlbTsgLy8g5pON5L2c57O757ufCiAgICAgICAgICAgIHRoaXMubW9kZWwuYnJvd3NlciA9IGJyb3dzZXI7IC8vIOa1j+iniOWZqOWPguaVsAogICAgICAgICAgICB0aGlzLm1vZGVsLnBhdGggPSBkZWNvZGVVUkkodGhpcy4kcm91dGUucGF0aCk7ICAvLyDpobXpnaIKCiAgICAgICAgICAgIGNvbnN0IHVzZXJJbmZvID0gKGF3YWl0IHRoaXMuJGFwaXMucmVzdC5nZXRVc2VySXAoKSkuZGF0YTsKICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52LlZVRV9BUFBfQkFTRV9BUEkgPT09ICdodHRwOi8vbG9jYWxob3N0OjMwMDAnKSB7CiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLmNuYW1lID0gdXNlckluZm8uY25hbWUKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuY25hbWUgPSB1c2VySW5mby5wcm92aW5jZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHRoaXMuaWQpIHsKICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuc3ViID0gdGhpcy5pZAogICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5pc1N1YiA9IHRydWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuJGFwaXMud2ViLmFkZENvbW1lbnQodGhpcy5tb2RlbCk7CiAgICAgICAgICAgIGlmIChyZXMpIHsKICAgICAgICAgICAgICAgIHRoaXMuJG5vdGlmeS5zdWNjZXNzKGAke3RoaXMubW9kZWwubmFtZX3miJDlip/lj5HluIPkuIDmnaHor4TorrrvvIFgKQogICAgICAgICAgICAgICAgdGhpcy4kcmVmcy50ZXh0YXJlYS5pbm5lckhUTUwgPSB0aGlzLmhpbnRzLmNvbnRlbnRIaW50OwogICAgICAgICAgICAgICAgdGhpcy5tb2RlbCA9IHsKICAgICAgICAgICAgICAgICAgICBpbWdVcmw6IHJlcXVpcmUoJ0AvYXNzZXRzL2ltZy8xLmpwZycpLAogICAgICAgICAgICAgICAgICAgIG5hbWU6ICcnLAogICAgICAgICAgICAgICAgICAgIGVtYWlsOiAnJywKICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiAnJywKICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnJywKICAgICAgICAgICAgICAgICAgICB3b3JkczogMCwKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnY29tbWVudC9zZXRDb21tZW50c0J5UGF0aCcsIHRoaXMpOwogICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnb25SZXBseVN0YXRlQ2hhbmdlJywgJ2luaXQnKQogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgb25DaGFuZ2VDb250ZW50KCkgewogICAgICAgICAgICB0aGlzLm1vZGVsLmNvbnRlbnQgPSB0aGlzLiRyZWZzLnRleHRhcmVhLmlubmVyVGV4dDsKICAgICAgICAgICAgdGhpcy5tb2RlbC53b3JkcyA9IHRoaXMucmVwbGFjZUFsbCh0aGlzLm1vZGVsLmNvbnRlbnQsCiAgICAgICAgICAgICAgICBbJyZuYnNwOycsICcgJywgJzxicj4nLCAnPGRpdj4nLCAnPC9kaXY+J10sICcnKS5sZW5ndGg7CiAgICAgICAgfSwKICAgICAgICBnZXRVc2VySW5mbygpIHsKICAgICAgICAgICAgY29uc3QgdXNlciA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJRUUluZm8nKSB8fCAie30iKS5kYXRhOwogICAgICAgICAgICAvLyBpZiAodXNlciAmJiB1c2VyLm5hbWUgPT09IHRoaXMubmFtZSkgcmV0dXJuOwogICAgICAgICAgICBpZiAodGhpcy5tb2RlbC5uYW1lKSB7CiAgICAgICAgICAgICAgICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKICAgICAgICAgICAgICAgIHhoci5vcGVuKCdHRVQnLCAnaHR0cHM6Ly9hcGkudXN1dXUuY29tL3FxLycgKyB0aGlzLm1vZGVsLm5hbWUpOwogICAgICAgICAgICAgICAgeGhyLnNlbmQoKTsKICAgICAgICAgICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID49IDIwMCAmJiB4aHIuc3RhdHVzIDwgMzAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlclFRSW5mbycsIHhoci5yZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2UpLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLm5hbWUgPSBkYXRhLm5hbWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLmltZ1VybCA9IGRhdGEuYXZhdGFyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5lbWFpbCA9IGAke2RhdGEucXF9QHFxLmNvbWAKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuaW1nVXJsID0gcmVxdWlyZSgnQC9hc3NldHMvaW1nLzEuanBnJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLmVtYWlsID0gJycKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuaW1nVXJsID0gcmVxdWlyZSgnQC9hc3NldHMvaW1nLzEuanBnJyk7CiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLmVtYWlsID0gJycKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIHJlcGxhY2VBbGwoc3RyLCBzZWFyY2hWYWwsIHJlcGxWYWwpIHsKICAgICAgICAgICAgaWYgKHR5cGVvZiBzZWFyY2hWYWwgPT09ICJzdHJpbmciKSB7CiAgICAgICAgICAgICAgICBzdHIgPSBzdHIucmVwbGFjZUFsbChzZWFyY2hWYWwsIHJlcGxWYWwpOwogICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBzZWFyY2hWYWwgPT09ICdvYmplY3QnKSB7CiAgICAgICAgICAgICAgICBzZWFyY2hWYWwuZm9yRWFjaChzID0+IHN0ciA9IHN0ci5yZXBsYWNlQWxsKHMsIHJlcGxWYWwpKQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBzdHI7CiAgICAgICAgfQogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJRUUluZm8nKSB8fCAne30nKS5kYXRhOwogICAgICAgIGlmIChkYXRhKSB7CiAgICAgICAgICAgIHRoaXMubW9kZWwubmFtZSA9IGRhdGEubmFtZTsKICAgICAgICAgICAgdGhpcy5tb2RlbC5pbWdVcmwgPSBkYXRhLmF2YXRhcjsKICAgICAgICAgICAgdGhpcy5tb2RlbC5lbWFpbCA9IGAke2RhdGEucXF9QHFxLmNvbWAKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["h-comment-area.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"h-comment-area.vue","sourceRoot":"src/components/comment","sourcesContent":["<template>\r\n    <div class=\"h-comment-area\">\r\n        <div class=\"h-comment\">\r\n            <div class=\"header\">\r\n                <div class=\"img\">\r\n                    <img :src=\"model.imgUrl\"/>\r\n                </div>\r\n                <div class=\"name\">\r\n                    <input v-model.trim=\"model.name\" :placeholder=\"hints.nameHint\" @focusout=\"getUserInfo\"/>\r\n                </div>\r\n                <div class=\"email\">\r\n                    <input v-model.trim=\"model.email\" :placeholder=\"hints.emailHint\"/>\r\n                </div>\r\n                <div class=\"address\">\r\n                    <input v-model.trim=\"model.address\" :placeholder=\"hints.addressHint\"/>\r\n                </div>\r\n            </div>\r\n            <div class=\"center\">\r\n                <div class=\"content\">\r\n                    <div\r\n                            ref=\"textarea\"\r\n                            class=\"textarea\"\r\n                            @input=\"onChangeContent\"\r\n                            :style=\"`color:${model.words ? 'black':'silver'}`\"\r\n                            @focus=\"!model.words && ($refs.textarea.innerText = '')\"\r\n                            @focusout=\"!model.words && ($refs.textarea.innerHTML = hints.contentHint)\"\r\n                            contenteditable=\"true\">\r\n                        {{ hints.contentHint }}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"footer\">\r\n                <div class=\"count\">\r\n                    <div class=\"words\">字数统计：{{ model.words }}</div>\r\n                </div>\r\n                <div class=\"function\">\r\n                    <span @click.prevent=\"onRelease\">发布</span>\r\n                </div>\r\n            </div>\r\n            <div class=\"close-sub-comment-area\"\r\n                 @click=\"$emit('onReplyStateChange','init')\"\r\n                 v-if=\"!isReplyState\">\r\n                <svg-icon icon-class=\"close\"></svg-icon>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {mapState} from \"vuex\";\r\n\r\n    export default {\r\n        name: \"HCommentArea\",\r\n        props: {\r\n            isReplyState: Boolean,\r\n            id: String,\r\n        },\r\n        data() {\r\n            return {\r\n                model: {\r\n                    imgUrl: require('@/assets/img/1.jpg'),\r\n                    name: '',\r\n                    email: '',\r\n                    address: '',\r\n                    content: '',\r\n                    words: 0,\r\n                    cname: ''\r\n                },\r\n                hints: {\r\n                    nameHint: 'QQ/匿名昵称',\r\n                    emailHint: '邮箱',\r\n                    addressHint: '博客网址',\r\n                    contentHint: '是时候展现你真正的技术了！（提示：输入QQ号会自动填写头像和邮箱哦~）',\r\n                }\r\n            }\r\n        },\r\n        computed: mapState({\r\n            browserType: state => state.app.browserType,\r\n        }),\r\n        methods: {\r\n            // 发布评论\r\n            async onRelease() {\r\n                if (this.model.content.trim() === '') {\r\n                    this.$message.warning('您还没有填写任何评论哦！')\r\n                    return;\r\n                }\r\n                const brandInfo = navigator.userAgent.replace(/(\\()|(\\))/g, '').split(' ');\r\n                const system = `${brandInfo[1]} ${brandInfo[3]}`.replace(/(\\.0)|(;)/g, '');\r\n                let browser = this.browserType;\r\n\r\n                if (this.browserType === 'Chrome') {\r\n                    browser = brandInfo[10].replace(/(\\/)/g, ' ');\r\n                } else if (this.browserType === 'Firefox') {\r\n                    browser = brandInfo[8].replace(/(\\/)/g, ' ');\r\n                } else if (this.browserType === 'QQBrowser') {\r\n                    browser = brandInfo[12].replace(/(\\/)/g, ' ');\r\n                }\r\n\r\n                this.model.name === '' && (this.model.name = 'Anonymous')\r\n                this.model.address === '' && (this.model.address = '#')\r\n                this.model.system = system; // 操作系统\r\n                this.model.browser = browser; // 浏览器参数\r\n                this.model.path = decodeURI(this.$route.path);  // 页面\r\n\r\n                const userInfo = (await this.$apis.rest.getUserIp()).data;\r\n                if (process.env.VUE_APP_BASE_API === 'http://localhost:3000') {\r\n                    this.model.cname = userInfo.cname\r\n                } else {\r\n                    this.model.cname = userInfo.province;\r\n                }\r\n\r\n                if (this.id) {\r\n                    this.model.sub = this.id\r\n                    this.model.isSub = true;\r\n                }\r\n\r\n                const res = await this.$apis.web.addComment(this.model);\r\n                if (res) {\r\n                    this.$notify.success(`${this.model.name}成功发布一条评论！`)\r\n                    this.$refs.textarea.innerHTML = this.hints.contentHint;\r\n                    this.model = {\r\n                        imgUrl: require('@/assets/img/1.jpg'),\r\n                        name: '',\r\n                        email: '',\r\n                        address: '',\r\n                        content: '',\r\n                        words: 0,\r\n                    }\r\n                    this.$store.commit('comment/setCommentsByPath', this);\r\n                    this.$emit('onReplyStateChange', 'init')\r\n                }\r\n            },\r\n\r\n            onChangeContent() {\r\n                this.model.content = this.$refs.textarea.innerText;\r\n                this.model.words = this.replaceAll(this.model.content,\r\n                    ['&nbsp;', ' ', '<br>', '<div>', '</div>'], '').length;\r\n            },\r\n            getUserInfo() {\r\n                const user = JSON.parse(localStorage.getItem('userQQInfo') || \"{}\").data;\r\n                // if (user && user.name === this.name) return;\r\n                if (this.model.name) {\r\n                    const xhr = new XMLHttpRequest();\r\n                    xhr.open('GET', 'https://api.usuuu.com/qq/' + this.model.name);\r\n                    xhr.send();\r\n                    xhr.onreadystatechange = () => {\r\n                        if (xhr.readyState === 4) {\r\n                            if (xhr.status >= 200 && xhr.status < 300) {\r\n                                localStorage.setItem('userQQInfo', xhr.response);\r\n                                const data = JSON.parse(xhr.response).data;\r\n                                this.model.name = data.name;\r\n                                this.model.imgUrl = data.avatar;\r\n                                this.model.email = `${data.qq}@qq.com`\r\n                            } else {\r\n                                this.model.imgUrl = require('@/assets/img/1.jpg');\r\n                                this.model.email = ''\r\n                            }\r\n                        }\r\n                    }\r\n                } else {\r\n                    this.model.imgUrl = require('@/assets/img/1.jpg');\r\n                    this.model.email = ''\r\n                }\r\n            },\r\n\r\n            replaceAll(str, searchVal, replVal) {\r\n                if (typeof searchVal === \"string\") {\r\n                    str = str.replaceAll(searchVal, replVal);\r\n                } else if (typeof searchVal === 'object') {\r\n                    searchVal.forEach(s => str = str.replaceAll(s, replVal))\r\n                }\r\n                return str;\r\n            }\r\n        },\r\n        mounted() {\r\n            const data = JSON.parse(localStorage.getItem('userQQInfo') || '{}').data;\r\n            if (data) {\r\n                this.model.name = data.name;\r\n                this.model.imgUrl = data.avatar;\r\n                this.model.email = `${data.qq}@qq.com`\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .h-comment-area {\r\n    .h-comment {\r\n      width: 80em;\r\n      border-radius: 5px;\r\n      box-shadow: 0px 0px 10px silver;\r\n      margin: 30px auto;\r\n      font-size: .8em;\r\n      position: relative;\r\n      z-index: 10;\r\n\r\n      .header {\r\n        display: flex;\r\n        padding: 0 1em;\r\n\r\n        .img {\r\n          img {\r\n            width: 50px;\r\n            height: 50px;\r\n            border-radius: 5px;\r\n            margin-top: 10px;\r\n            margin-right: 10px;\r\n          }\r\n        }\r\n\r\n        .name {\r\n          line-height: 78px;\r\n          flex: 1;\r\n        }\r\n\r\n        .email {\r\n          line-height: 78px;\r\n          flex: 1;\r\n        }\r\n\r\n        .address {\r\n          line-height: 78px;\r\n          flex: 1;\r\n        }\r\n\r\n        input {\r\n          line-height: 3em;\r\n          display: inline-block;\r\n          width: 100%;\r\n          border: none;\r\n          border-bottom: 1px dashed rgba(0, 0, 0, 0.2);\r\n          font-size: 1.3em;\r\n\r\n          &:focus {\r\n            outline: none;\r\n            border: none;\r\n            border-bottom: 1px dashed #409eff;\r\n          }\r\n        }\r\n      }\r\n\r\n      .center {\r\n        width: 100%;\r\n        position: relative;\r\n\r\n        .content {\r\n          width: 98%;\r\n          margin: 0 auto;\r\n          padding: 1em;\r\n\r\n          .textarea {\r\n            outline: none;\r\n            border: none;\r\n            word-break: break-all;\r\n            width: 100%;\r\n            min-height: 220px;\r\n            overflow: hidden;\r\n            font-family: 宋体, sans-serif;\r\n            font-size: 1.2em;\r\n          }\r\n        }\r\n      }\r\n\r\n      .footer {\r\n        border-top: dashed 1px silver;\r\n        display: flex;\r\n\r\n        .function {\r\n          flex-grow: 1;\r\n          text-align: right;\r\n\r\n          span {\r\n            user-select: none;\r\n            border: dashed 1.5px silver;\r\n            line-height: 3em;\r\n            padding: 7px;\r\n            margin-right: 5px;\r\n            background-color: unset;\r\n            font-size: 1.4em;\r\n            transition: 1s;\r\n            cursor: pointer;\r\n            color: rgba(0, 0, 0, 0.7);\r\n\r\n            &:hover {\r\n              color: #409eff;\r\n              border: solid 1.5px #409eff;\r\n            }\r\n          }\r\n        }\r\n\r\n        .count {\r\n          width: auto;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          padding: 1em;\r\n\r\n          .words {\r\n            font-size: 1.2em;\r\n            color: silver;\r\n          }\r\n        }\r\n      }\r\n\r\n      .close-sub-comment-area {\r\n        position: absolute;\r\n        right: 10px;\r\n        top: 10px;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        z-index: 9999999999;\r\n        cursor: pointer;\r\n        font-size: 2em;\r\n        color: silver;\r\n        border: dashed 1.5px silver;\r\n        transition: 1s;\r\n\r\n        div {\r\n          padding: 0 8px;\r\n        }\r\n\r\n        &:hover {\r\n          border: solid 1.5px #409eff;\r\n          color: #409eff;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>"]}]}