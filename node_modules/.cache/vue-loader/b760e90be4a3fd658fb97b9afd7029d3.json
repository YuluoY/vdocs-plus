{"remainingRequest":"D:\\桌面\\vdocs-plus\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\桌面\\vdocs-plus\\src\\components\\h-header.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\桌面\\vdocs-plus\\src\\components\\h-header.vue","mtime":1660262667345},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661267353134},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\babel-loader\\lib\\index.js","mtime":1661267356503},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661267353134},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\vue-loader\\lib\\index.js","mtime":1661267357130}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7bWFwU3RhdGV9IGZyb20gInZ1ZXgiOwppbXBvcnQgSFJvdXRlckxpbmsgZnJvbSAiQC9jb21wb25lbnRzL2gtcm91dGVyLWxpbmsiOwppbXBvcnQge2FkZENsYXNzLCBkZWxldGVDbGFzc30gZnJvbSAiQC91dGlscy9kb20iOwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogImgtaGVhZGVyIiwKICAgIGNvbXBvbmVudHM6IHtIUm91dGVyTGlua30sCiAgICBwcm9wczogewogICAgICAgIGlzSGVhZGVyOiB7dHlwZTogQm9vbGVhbiwgZGVmYXVsdDogdHJ1ZX0sCiAgICAgICAgaXNTaWRlYmFyQWx3YXlzU2hvdzoge3R5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IHRydWV9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIG9uT3BlbkRyb3BMaXN0KG4pIHsKICAgICAgICAgICAgY29uc3QgZHJvcExpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGBkcm9wTGlzdC0ke24uaWR9YClbMF07CiAgICAgICAgICAgIGFkZENsYXNzKGRyb3BMaXN0LCAnaC1oZWFkZXItc2hvdycpCiAgICAgICAgICAgIGRlbGV0ZUNsYXNzKGRyb3BMaXN0LCAnaC1oZWFkZXItaGlkZScpCiAgICAgICAgfSwKICAgICAgICBvbkhpZGVEcm9wTGlzdChuKSB7CiAgICAgICAgICAgIGNvbnN0IGRyb3BMaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShgZHJvcExpc3QtJHtuLmlkfWApWzBdOwogICAgICAgICAgICBkZWxldGVDbGFzcyhkcm9wTGlzdCwgJ2gtaGVhZGVyLXNob3cnKQogICAgICAgIH0sCiAgICAgICAgb25Mb2dpbkhhbmRsZSgpIHsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9sb2dpbicpCiAgICAgICAgfSwKICAgICAgICBvblRpcEhhbmRsZSgpIHsKCiAgICAgICAgfSwKICAgICAgICBvblNlYXJjaEhhbmRsZSgpIHsKCiAgICAgICAgfQogICAgfSwKICAgIGNvbXB1dGVkOiBtYXBTdGF0ZSh7CiAgICAgICAgdXNlckluZm86IHN0YXRlID0+IHN0YXRlLnVzZXIudXNlckluZm8sCiAgICAgICAgbmF2OiBzdGF0ZSA9PiBzdGF0ZS5hcHAuaGVhZGVyLm5hdiwKICAgICAgICBjb250YWN0OiBzdGF0ZSA9PiBzdGF0ZS5hcHAuaGVhZGVyLmNvbnRhY3QKICAgIH0pLAogICAgbW91bnRlZCgpIHsKICAgICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsICgpID0+IHsKICAgICAgICAgICAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaC1oZWFkZXInKVswXTsKICAgICAgICAgICAgY29uc3QgYXJ0aWNsZVNpZGViYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdoLWFydGljbGUtc2lkZWJhcicpWzBdOwogICAgICAgICAgICBsZXQgc2lkZWJhciA9IG51bGw7CiAgICAgICAgICAgIGlmICh0aGlzLmlzU2lkZWJhckFsd2F5c1Nob3cpIHsKICAgICAgICAgICAgICAgIHNpZGViYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdoLXNpZGViYXInKVswXTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wID49IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0IC0gMzApIHsKICAgICAgICAgICAgICAgIGhlYWRlciAmJiBkZWxldGVDbGFzcyhoZWFkZXIsIFsnaC1oZWFkZXItdHJhbnNwYXJlbnQnLCAnaC1oZWFkZXItc2hvdyddKQogICAgICAgICAgICAgICAgaGVhZGVyICYmIGFkZENsYXNzKGhlYWRlciwgJ2gtaGVhZGVyLWhpZGUnKQogICAgICAgICAgICAgICAgc2lkZWJhciAmJiAoc2lkZWJhci5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCcpOwogICAgICAgICAgICAgICAgaWYgKGFydGljbGVTaWRlYmFyKSB7CiAgICAgICAgICAgICAgICAgICAgYXJ0aWNsZVNpZGViYXIgJiYgYWRkQ2xhc3MoYXJ0aWNsZVNpZGViYXIsICdoLWFydGljbGUtc2lkZWJhcjInKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA9PT0gMCkgewogICAgICAgICAgICAgICAgaGVhZGVyICYmIGFkZENsYXNzKGhlYWRlciwgJ2gtaGVhZGVyLXRyYW5zcGFyZW50Jyk7CiAgICAgICAgICAgICAgICBoZWFkZXIgJiYgZGVsZXRlQ2xhc3MoaGVhZGVyLCBbJ2gtaGVhZGVyLXNob3cnLCAnaC1oZWFkZXItaGlkZSddKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgaGVhZGVyICYmIGFkZENsYXNzKGhlYWRlciwgJ2gtaGVhZGVyLXNob3cnKTsKICAgICAgICAgICAgICAgIGhlYWRlciAmJiBkZWxldGVDbGFzcyhoZWFkZXIsIFsnaC1oZWFkZXItaGlkZScsICdoLWhlYWRlci10cmFuc3BhcmVudCddKQogICAgICAgICAgICAgICAgc2lkZWJhciAmJiAoc2lkZWJhci5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZScpOwogICAgICAgICAgICAgICAgaWYgKGFydGljbGVTaWRlYmFyKSB7CiAgICAgICAgICAgICAgICAgICAgYXJ0aWNsZVNpZGViYXIgJiYgZGVsZXRlQ2xhc3MoYXJ0aWNsZVNpZGViYXIsICdoLWFydGljbGUtc2lkZWJhcjInKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSkKICAgIH0sCiAgICBiZWZvcmVEZXN0cm95KCkgewogICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgKCkgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZygn6ZSA5q+B6aG26YOo5a+86IiqJykKICAgICAgICB9KTsKICAgIH0KfQo="},{"version":3,"sources":["h-header.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"h-header.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div class=\"h-header forbid-select-text\" v-if=\"isHeader\">\r\n        <div style=\"width: 100vw;\" class=\"h-header-box\">\r\n            <div class=\"info\">\r\n                <a href=\"/\">\r\n                    <img class=\"logo\" :src=\"userInfo.logo\"/>\r\n                    <span class=\"name\" :title=\"userInfo.name\">{{ userInfo.name }}</span>\r\n                </a>\r\n            </div>\r\n            <div class=\"nav\">\r\n                <div v-for=\"(n, i) in nav\" :key=\"i\"\r\n                     :class=\"`nav-link-box nav-link-box-${i}`\"\r\n                     @mouseover=\"n.children && onOpenDropList(n)\"\r\n                     @mouseleave=\"n.children && onHideDropList(n)\">\r\n                    <h-router-link\r\n                            :href=\"n.path\"\r\n                            :title=\"n.title\"\r\n                            style=\"display: flex;align-items: center;\">\r\n                        <svg-icon :icon-class=\"n.iconClass\"></svg-icon>\r\n                        <span style=\"margin-left: 5px;\">{{ n.label }}</span>\r\n                        <svg-icon v-if=\"n.children\" icon-class=\"drop-down\"></svg-icon>\r\n                    </h-router-link>\r\n                    <div :class=\"`dropList-wrapper dropList-${i}`\" v-if=\"n.children\">\r\n                        <h-router-link\r\n                                v-for=\"(item, i) in n.children\" :key='i'\r\n                                :href=\"item.path\"\r\n                                :title=\"item.title\">\r\n                            <span>{{ item.label }}</span>\r\n                        </h-router-link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"contact\">\r\n                <!--                <h-router-link-->\r\n                <!--                        :href=\"n.href\"-->\r\n                <!--                        :title=\"n.title\"-->\r\n                <!--                        v-for=\"(n, i) in contact\" :key=\"i\"-->\r\n                <!--                        style=\"display: flex;align-items: center;\">-->\r\n                <!--                    <svg-icon :icon-class=\"n.iconClass\"></svg-icon>-->\r\n                <!--                </h-router-link>-->\r\n                <div class=\"little-tools\">\r\n                    <svg-icon icon-class=\"login\" class-name=\"login\" @click=\"onLoginHandle\" title=\"登录\"></svg-icon>\r\n                    <svg-icon icon-class=\"tip\" class-name=\"tip\" @click=\"onTipHandle\" title=\"友情提示\"></svg-icon>\r\n                    <svg-icon icon-class=\"search\" class-name=\"search\" @click=\"onSearchHandle\" title=\"站内搜索\"></svg-icon>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {mapState} from \"vuex\";\r\n    import HRouterLink from \"@/components/h-router-link\";\r\n    import {addClass, deleteClass} from \"@/utils/dom\";\r\n\r\n    export default {\r\n        name: \"h-header\",\r\n        components: {HRouterLink},\r\n        props: {\r\n            isHeader: {type: Boolean, default: true},\r\n            isSidebarAlwaysShow: {type: Boolean, default: true}\r\n        },\r\n        methods: {\r\n            onOpenDropList(n) {\r\n                const dropList = document.getElementsByClassName(`dropList-${n.id}`)[0];\r\n                addClass(dropList, 'h-header-show')\r\n                deleteClass(dropList, 'h-header-hide')\r\n            },\r\n            onHideDropList(n) {\r\n                const dropList = document.getElementsByClassName(`dropList-${n.id}`)[0];\r\n                deleteClass(dropList, 'h-header-show')\r\n            },\r\n            onLoginHandle() {\r\n                this.$router.push('/login')\r\n            },\r\n            onTipHandle() {\r\n\r\n            },\r\n            onSearchHandle() {\r\n\r\n            }\r\n        },\r\n        computed: mapState({\r\n            userInfo: state => state.user.userInfo,\r\n            nav: state => state.app.header.nav,\r\n            contact: state => state.app.header.contact\r\n        }),\r\n        mounted() {\r\n            document.body.addEventListener('scroll', () => {\r\n                const header = document.getElementsByClassName('h-header')[0];\r\n                const articleSidebar = document.getElementsByClassName('h-article-sidebar')[0];\r\n                let sidebar = null;\r\n                if (this.isSidebarAlwaysShow) {\r\n                    sidebar = document.getElementsByClassName('h-sidebar')[0];\r\n                }\r\n\r\n                if (document.body.scrollTop >= document.body.clientHeight - 30) {\r\n                    header && deleteClass(header, ['h-header-transparent', 'h-header-show'])\r\n                    header && addClass(header, 'h-header-hide')\r\n                    sidebar && (sidebar.style.position = 'fixed');\r\n                    if (articleSidebar) {\r\n                        articleSidebar && addClass(articleSidebar, 'h-article-sidebar2');\r\n                    }\r\n                } else if (document.body.scrollTop === 0) {\r\n                    header && addClass(header, 'h-header-transparent');\r\n                    header && deleteClass(header, ['h-header-show', 'h-header-hide'])\r\n                } else {\r\n                    header && addClass(header, 'h-header-show');\r\n                    header && deleteClass(header, ['h-header-hide', 'h-header-transparent'])\r\n                    sidebar && (sidebar.style.position = 'absolute');\r\n                    if (articleSidebar) {\r\n                        articleSidebar && deleteClass(articleSidebar, 'h-article-sidebar2')\r\n                    }\r\n                }\r\n            })\r\n        },\r\n        beforeDestroy() {\r\n            document.body.removeEventListener('scroll', () => {\r\n                console.log('销毁顶部导航')\r\n            });\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>"]}]}