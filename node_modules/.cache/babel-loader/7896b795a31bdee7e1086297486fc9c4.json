{"remainingRequest":"D:\\桌面\\vdocs-plus\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面\\vdocs-plus\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\桌面\\vdocs-plus\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\桌面\\vdocs-plus\\src\\components\\comment\\h-comment-display.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\桌面\\vdocs-plus\\src\\components\\comment\\h-comment-display.vue","mtime":1660980644331},{"path":"D:\\桌面\\vdocs-plus\\babel.config.js","mtime":1658807783766},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661267353134},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\babel-loader\\lib\\index.js","mtime":1661267356503},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661267353134},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\vue-loader\\lib\\index.js","mtime":1661267357130}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1x1Njg0Q1x1OTc2Mi92ZG9jcy1wbHVzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgSENvbW1lbnQgZnJvbSAiQC9jb21wb25lbnRzL2NvbW1lbnQvaC1jb21tZW50IjsKaW1wb3J0IEhDb21tZW50QXJlYSBmcm9tICJAL2NvbXBvbmVudHMvY29tbWVudC9oLWNvbW1lbnQtYXJlYSI7CmltcG9ydCBkYXlqcyBmcm9tICJkYXlqcyI7CmltcG9ydCAnLi9hc3NldHMvY3NzL2ljb25mb250LmNzcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSENvbW1lbnREaXNwbGF5IiwKICBjb21wb25lbnRzOiB7CiAgICBIQ29tbWVudEFyZWE6IEhDb21tZW50QXJlYSwKICAgIEhDb21tZW50OiBIQ29tbWVudAogIH0sCiAgcHJvcHM6IHsKICAgIGNvbW1lbnRzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0sCiAgICAvLyDor4TorrrmlbDnu4QKICAgIGlzUmVwbHlTdGF0ZTogQm9vbGVhbiwKICAgIC8vIOWFqOWxgOWbnuWkjeeKtuaAgeWPmOmHjwogICAgc3RhdGVzOiBPYmplY3QsCiAgICAvLyDnirbmgIHooajvvIzmr4/kuIDkuKror4TorrrlsLHmnInkuIDkuKppZO+8jOavj+S4gOS4qmlk5bCx5Zyo6KGo5Lit5pyJ5LiA5Liq54q25oCB77yM5Yid5aeL5YC85pivZmFsc2XvvIzljbPkuI3mmL7npLrjgIIKICAgIG9uUmVwbHlTdGF0ZUNoYW5nZTogRnVuY3Rpb24sCiAgICAvLyDov5nmmK9oLWNvbW1lbnTnu4Tku7bnmoTmlrnms5XvvIznlKjkuo7mlLnlj5jlhajlsYDnmoTlm57lpI3nirbmgIEKICAgIGlzU3ViQ29tbWVudDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIC8vIOi/meS4quWPmOmHj+WPr+S7peWRiuiviWRpc3BsYXnnu4Tku7bkvKDov4fmnaXnmoRjb21tZW50c+aYr+S4jeaYr+WtkOivhOiuugogICAgYXQ6IFN0cmluZywKICAgIC8vIOS8oOi/h+adpeeahOaYr+iiq+WbnuWkjeiAheeahG5hbWXlgLzvvIxAWFgKICAgIGlkOiBTdHJpbmcsCiAgICAvLyDnlKjkuo7lrprkvY1uYW1l5LiKZGl255qEaWTvvIznhLblkI7ov5vooYxqdW1wCiAgICBpZFRvTmFtZTogT2JqZWN0CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3RhdGVzWDogJycKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgc3RhdGVzOiBmdW5jdGlvbiBzdGF0ZXMobmV3VmFsKSB7CiAgICAgIHRoaXMuc3RhdGVzID0gbmV3VmFsOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgaXNBZGRyZXNzOiBmdW5jdGlvbiBpc0FkZHJlc3MoYWRkcmVzcykgewogICAgICByZXR1cm4gYWRkcmVzcyA9PT0gJyMnOwogICAgfSwKICAgIGlzQXJyYXlPYmplY3Q6IGZ1bmN0aW9uIGlzQXJyYXlPYmplY3QoYXJyLCB1bmlxdWUpIHsKICAgICAgcmV0dXJuIGFyci5ldmVyeShmdW5jdGlvbiAoaSkgewogICAgICAgIHJldHVybiBpLmhhc093blByb3BlcnR5KHVuaXF1ZSk7CiAgICAgIH0pOwogICAgfSwKICAgIGp1bXA6IGZ1bmN0aW9uIGp1bXAoaWQpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIE9iamVjdC5rZXlzKHRoaXMuc3RhdGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7CiAgICAgICAgdmFyIG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChrKTsKCiAgICAgICAgaWYgKG4uc3R5bGUuY29sb3IgPT09ICdyZWQnKSB7CiAgICAgICAgICBuLnN0eWxlLmNvbG9yID0gJ2JsYWNrJzsgLy8g6K6+572u5aeT5ZCN5Li657qi6Imy55qE5oGi5aSN5Li66buR6ImyCiAgICAgICAgfQogICAgICB9KTsKICAgICAgdmFyIHRhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTsgLy8g6I635Y+W6ZyA6KaB5rua5Yqo55qE6Led56a7CgogICAgICB0YXIuc3R5bGUuY29sb3IgPSAncmVkJzsgLy8g6K6+572u6KKr54K55Ye7QOeahG5hbWXkuLrnuqLoibIKCiAgICAgIHZhciBoZWFkZXIgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luOyAvLyBodHRwOi8vbG9jYWxob3N0LzgwODAKCiAgICAgIHZhciBwYXRoID0gd2luZG93LmxvY2F0aW9uLmhhc2guc3Vic3RyaW5nKDEpLnNwbGl0KCcjJylbMF07IC8vIOi3r+eUsei3r+W+hAoKICAgICAgdmFyIGFuY2hvciA9IHRhci5pZDsgLy8g6ZSa54K55ZCN56ewCgogICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICIiLmNvbmNhdChoZWFkZXIsICIvIyIpLmNvbmNhdChwYXRoLCAiIyIpLmNvbmNhdChhbmNob3IpOwogICAgICB2YXIgZ2FwID0gNTsKICAgICAgdGFyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbSA8IDAgJiYgKGdhcCA9IC1nYXApOwogICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpOwogICAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKF8pIHsKICAgICAgICB2YXIgdG90YWwgPSB0YXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tIC0gMTAwOyAvLyDlh4/ljrvpobbpg6jlr7zoiKrmoI/pq5jluqYKCiAgICAgICAgaWYgKGdhcCA8IDAgJiYgdG90YWwgPj0gMCB8fCBnYXAgPiAwICYmIHRvdGFsIDw9IDApIHsKICAgICAgICAgIGNsZWFySW50ZXJ2YWwoX3RoaXMudGltZXIpOwogICAgICAgIH0KCiAgICAgICAgZG9jdW1lbnQuYm9keS5zY3JvbGxUbygwLCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCArIGdhcCk7CiAgICAgIH0sIDEpOwogICAgfSwKICAgIC8vIOeCuei1ngogICAgb25MaWtlOiBmdW5jdGlvbiBvbkxpa2UoX2lkLCBldmVudCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHVzZXJJbmZvLCBmaWVsZDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuJGFwaXMucmVzdC5nZXRVc2VySXAoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgdXNlckluZm8gPSBfY29udGV4dC5zZW50LmRhdGE7CiAgICAgICAgICAgICAgICBmaWVsZCA9IGV2ZW50LnRhcmdldC5jbGFzc05hbWUuc3BsaXQoJyAnKVswXTsKCiAgICAgICAgICAgICAgICBfdGhpczIuJGFwaXMud2ViLnVwZGF0ZUxpa2UoewogICAgICAgICAgICAgICAgICBfaWQ6IF9pZCwKICAgICAgICAgICAgICAgICAgZmllbGQ6IGZpZWxkLAogICAgICAgICAgICAgICAgICB1c2VySW5mbzogdXNlckluZm8KICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICBpZiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLiRzdG9yZS5jb21taXQoJ2NvbW1lbnQvc2V0Q29tbWVudHNCeVBhdGgnLCBfdGhpczIpOwoKICAgICAgICAgICAgICAgICAgICBldmVudC50YXJnZXQuc3R5bGUuY29sb3IgPSAncmVkJzsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBmb3JtYXREYXRlOiBmdW5jdGlvbiBmb3JtYXREYXRlKHZhbCkgewogICAgICB2YXIgY3VyclZhbCA9IG5ldyBEYXRlKHZhbCkuZ2V0VGltZSgpOwogICAgICB2YXIgbW9kZWwgPSB7CiAgICAgICAgJ3llYXInOiAn5bm0JywKICAgICAgICAnbW9udGgnOiAn5pyIJywKICAgICAgICAnd2Vlayc6ICflkagnLAogICAgICAgICdkYXknOiAn5aSpJywKICAgICAgICAnaG91cic6ICflsI/ml7YnLAogICAgICAgICdtaW51dGUnOiAn5YiG6ZKfJywKICAgICAgICAnc2Vjb25kJzogJ+enkicsCiAgICAgICAgJ21pbGxpc2Vjb25kJzogJ+avq+enkicKICAgICAgfTsKICAgICAgdmFyIHRpbWVNb2RlbCA9IE9iamVjdC5rZXlzKG1vZGVsKS5maWx0ZXIoZnVuY3Rpb24gKGspIHsKICAgICAgICByZXR1cm4gZGF5anMoRGF0ZS5ub3coKSkuZGlmZihjdXJyVmFsLCBrKTsKICAgICAgfSlbMF07CiAgICAgIHZhciB0aW1lRGlmZiA9IGRheWpzKERhdGUubm93KCkpLmRpZmYoY3VyclZhbCwgdGltZU1vZGVsKTsKICAgICAgcmV0dXJuICIiLmNvbmNhdCh0aW1lRGlmZikuY29uY2F0KG1vZGVsW3RpbWVNb2RlbF0sICJcdTUyNEQiKTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkFA;AACA;AACA;AACA;AAEA;EACAA,uBADA;EAEAC;IAAAC;IAAAC;EAAA,CAFA;EAGAC;IACAC;MAAAC;MAAAC;QAAA;MAAA;IAAA,CADA;IACA;IACAC,qBAFA;IAEA;IACAC,cAHA;IAGA;IACAC,4BAJA;IAIA;IACAC;MAAAL;MAAAC;IAAA,CALA;IAKA;IACAK,UANA;IAMA;IACAC,UAPA;IAOA;IACAC;EARA,CAHA;EAaAC,IAbA,kBAaA;IACA;MACAC;IADA;EAGA,CAjBA;EAkBAC;IACAR,MADA,kBACAS,MADA,EACA;MACA;IACA;EAHA,CAlBA;EAwBAC;IACAC,SADA,qBACAC,OADA,EACA;MACA;IACA,CAHA;IAIAC,aAJA,yBAIAC,GAJA,EAIAC,MAJA,EAIA;MACA;QAAA;MAAA;IACA,CANA;IAOAC,IAPA,gBAOAZ,EAPA,EAOA;MAAA;;MACAa;QACA;;QACA;UACAC,wBADA,CACA;QACA;MACA,CALA;MAMA,sCAPA,CAOA;;MACAC,wBARA,CAQA;;MAEA,oCAVA,CAUA;;MACA,2DAXA,CAWA;;MACA,oBAZA,CAYA;;MACAC;MAEA;MACAD;MACAE;MACA;QACA,qDADA,CACA;;QACA;UACAA;QACA;;QACAC;MACA,CANA,EAMA,CANA;IAQA,CAjCA;IAkCA;IACAC,MAnCA,kBAmCAC,GAnCA,EAmCAC,KAnCA,EAmCA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA,6BADA;;cAAA;gBACAC,QADA,iBACApB,IADA;gBAEAqB,KAFA,GAEAF,oCAFA;;gBAIA;kBAAAD;kBAAAG;kBAAAD;gBAAA;kBACA;oBACA;;oBACAD;kBACA;gBACA,CALA;;cAJA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAUA,CA7CA;IA8CAG,UA9CA,sBA8CAC,GA9CA,EA8CA;MACA;MACA;QACA,WADA;QAEA,YAFA;QAGA,WAHA;QAIA,UAJA;QAKA,YALA;QAMA,cANA;QAOA,aAPA;QAQA;MARA;MAUA;QAAA;MAAA;MACA;MACA;IACA;EA7DA;AAxBA","names":["name","components","HCommentArea","HComment","props","comments","type","default","isReplyState","states","onReplyStateChange","isSubComment","at","id","idToName","data","statesX","watch","newVal","methods","isAddress","address","isArrayObject","arr","unique","jump","Object","n","tar","window","clearInterval","document","onLike","_id","event","userInfo","field","formatDate","val"],"sourceRoot":"src/components/comment","sources":["h-comment-display.vue"],"sourcesContent":["<template>\r\n    <div class=\"h-comment-display\" v-on=\"$listeners\">\r\n        <div class=\"comment-display-wrapper\">\r\n            <div class=\"comment-item-wrapper\">\r\n                <div class=\"comment-item\"\r\n                     v-for=\"(item, i) in comments\" :key=\"i\">\r\n                    <div class=\"top-info\">\r\n                        <img v-lazy=\"item.imgUrl\" alt=\"头像\" class=\"img\"/>\r\n                        <div class=\"right\">\r\n                            <div class=\"top\">\r\n                                <a :href=\"isAddress(item.address)  ? 'javascript:void(0);' : item.address\"\r\n                                   :style=\"`${isAddress(item.address) && 'cursor: text;'}`\">\r\n                                    <div class=\"name\" :id=\"item._id\">{{ item.name }}</div>\r\n                                </a>\r\n                                <div class=\"browser base-sign hover-blue\">\r\n                                    <svg-icon icon-class=\"browser\" style=\"margin-right: 5px;\"></svg-icon>\r\n                                    <span>{{ item.browser }}</span>\r\n                                </div>\r\n                                <div class=\"system base-sign hover-blue\">\r\n                                    <svg-icon icon-class=\"system\" style=\"margin-right: 5px;\"></svg-icon>\r\n                                    <span>{{ item.system }}</span>\r\n                                </div>\r\n                                <div class=\"cname base-sign hover-blue\">\r\n                                    <svg-icon icon-class=\"address\" style=\"margin-right: 5px;\"></svg-icon>\r\n                                    <span>{{ item.cname }}</span>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"createdAt\">\r\n                                <span class=\"hover-blue\">{{ formatDate(item.createdAt) }}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div :class=\"at ? 'content-wrapper content-wrapper-sub':'content-wrapper'\">\r\n                        <div class=\"main\" :style=\"at && 'margin-left:70px;'\">\r\n                            <a v-if=\"at\" class=\"at\"\r\n                               @click=\"jump(isArrayObject(item.sub,'_id')?id:item.sub[0])\">\r\n                                @{{ isArrayObject(item.sub, '_id') ? at : idToName[item.sub[0]] }}：\r\n                            </a>\r\n                            <span>{{ item.content }}</span>\r\n                        </div>\r\n                        <div class=\"main-func\">\r\n                            <div @click=\"onReplyStateChange(item._id)\"\r\n                                 class=\"iconfont icon-reply-\"\r\n                                 title=\"回复😀\"></div>\r\n                            <div>\r\n                                <span @click.prevent=\"onLike(item._id, $event)\"\r\n                                      class=\"like iconfont icon-like\" title=\"赞一个🤭\"></span>\r\n                                <span style=\"margin-left: 5px;\">{{ item.like }}</span>\r\n                            </div>\r\n                            <div>\r\n                                <span @click=\"onLike(item._id, $event)\"\r\n                                      class=\"dislike iconfont icon-dislike\" title=\"踩一下🤬\"></span>\r\n                                <span style=\"margin-left: 5px\">{{ item.dislike }}</span>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"reply-area-wrapper\">\r\n                            <h-comment-area\r\n                                    :id=\"item._id\"\r\n                                    :is-reply-state=\"isReplyState\"\r\n                                    @onReplyStateChange=\"onReplyStateChange\"\r\n                                    v-if=\"states[item._id]\"\r\n                            ></h-comment-area>\r\n                        </div>\r\n                        <div v-if=\"isArrayObject(item.sub, '_id')\">\r\n                            <h-comment-display\r\n                                    :isSubComment=\"true\"\r\n                                    :at=\"item.name\"\r\n                                    :id=\"item._id\"\r\n                                    :idToName=\"idToName\"\r\n                                    :comments=\"item.sub\"\r\n                                    :is-reply-state=\"isReplyState\"\r\n                                    :states=\"states\"\r\n                                    :on-reply-state-change=\"onReplyStateChange\"></h-comment-display>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import HComment from \"@/components/comment/h-comment\";\r\n    import HCommentArea from \"@/components/comment/h-comment-area\";\r\n    import dayjs from \"dayjs\";\r\n    import './assets/css/iconfont.css'\r\n\r\n    export default {\r\n        name: \"HCommentDisplay\",\r\n        components: {HCommentArea, HComment},\r\n        props: {\r\n            comments: {type: Array, default: () => []}, // 评论数组\r\n            isReplyState: Boolean, // 全局回复状态变量\r\n            states: Object, // 状态表，每一个评论就有一个id，每一个id就在表中有一个状态，初始值是false，即不显示。\r\n            onReplyStateChange: Function, // 这是h-comment组件的方法，用于改变全局的回复状态\r\n            isSubComment: {type: Boolean, default: false}, // 这个变量可以告诉display组件传过来的comments是不是子评论\r\n            at: String,  // 传过来的是被回复者的name值，@XX\r\n            id: String,  // 用于定位name上div的id，然后进行jump\r\n            idToName: Object\r\n        },\r\n        data() {\r\n            return {\r\n                statesX: '',\r\n            }\r\n        },\r\n        watch: {\r\n            states(newVal) {\r\n                this.states = newVal;\r\n            }\r\n        },\r\n\r\n        methods: {\r\n            isAddress(address) {\r\n                return address === '#'\r\n            },\r\n            isArrayObject(arr, unique) {\r\n                return arr.every(i => i.hasOwnProperty(unique));\r\n            },\r\n            jump(id) {\r\n                Object.keys(this.states).forEach(k => {\r\n                    const n = document.getElementById(k);\r\n                    if (n.style.color === 'red') {\r\n                        n.style.color = 'black' // 设置姓名为红色的恢复为黑色\r\n                    }\r\n                })\r\n                let tar = document.getElementById(id)// 获取需要滚动的距离\r\n                tar.style.color = 'red'; // 设置被点击@的name为红色\r\n\r\n                const header = window.location.origin // http://localhost/8080\r\n                const path = window.location.hash.substring(1).split('#')[0] // 路由路径\r\n                const anchor = tar.id // 锚点名称\r\n                window.location.href = `${header}/#${path}#${anchor}`\r\n\r\n                let gap = 5;\r\n                tar.getBoundingClientRect().bottom < 0 && (gap = -gap);\r\n                clearInterval(this.timer)\r\n                this.timer = setInterval(_ => {\r\n                    let total = tar.getBoundingClientRect().bottom - 100; // 减去顶部导航栏高度\r\n                    if ((gap < 0 && total >= 0) || (gap > 0 && total <= 0)) {\r\n                        clearInterval(this.timer)\r\n                    }\r\n                    document.body.scrollTo(0, document.body.scrollTop + gap)\r\n                }, 1)\r\n\r\n            },\r\n            // 点赞\r\n            async onLike(_id, event) {\r\n                const userInfo = (await this.$apis.rest.getUserIp()).data;\r\n                const field = event.target.className.split(' ')[0];\r\n\r\n                this.$apis.web.updateLike({_id, field, userInfo}).then(res => {\r\n                    if (res) {\r\n                        this.$store.commit('comment/setCommentsByPath', this);\r\n                        event.target.style.color = 'red';\r\n                    }\r\n                })\r\n            },\r\n            formatDate(val) {\r\n                const currVal = new Date(val).getTime()\r\n                const model = {\r\n                    'year': '年',\r\n                    'month': '月',\r\n                    'week': '周',\r\n                    'day': '天',\r\n                    'hour': '小时',\r\n                    'minute': '分钟',\r\n                    'second': '秒',\r\n                    'millisecond': '毫秒'\r\n                }\r\n                const timeModel = Object.keys(model).filter(k => dayjs(Date.now()).diff(currVal, k))[0]\r\n                const timeDiff = dayjs(Date.now()).diff(currVal, timeModel);\r\n                return `${timeDiff}${model[timeModel]}前`\r\n            }\r\n        },\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .at {\r\n    color: #409eff !important;\r\n    cursor: pointer;\r\n\r\n    &:hover {\r\n      color: #41B883 !important;\r\n    }\r\n  }\r\n\r\n  .comment-display-wrapper {\r\n    width: 64em;\r\n    margin: 0 auto;\r\n    position: relative;\r\n    z-index: 10;\r\n\r\n    .comment-item-wrapper {\r\n      display: flex;\r\n      flex-direction: column;\r\n      margin-top: 10px;\r\n\r\n      .comment-item {\r\n        .top-info {\r\n          display: flex;\r\n          align-items: center;\r\n\r\n          .img {\r\n            width: 50px;\r\n            height: 50px;\r\n            border-radius: 50%;\r\n          }\r\n\r\n          .right {\r\n            flex-grow: 1;\r\n            padding: 0 1em;\r\n            line-height: 2em;\r\n            display: flex;\r\n            flex-direction: column;\r\n            justify-content: space-between;\r\n            border-right: solid 1px black;\r\n\r\n            .top {\r\n              display: flex;\r\n\r\n              .name {\r\n                font-size: 1.2em;\r\n              }\r\n\r\n              .base-sign {\r\n                font-size: .9em;\r\n                margin-left: 2em;\r\n                color: silver;\r\n              }\r\n            }\r\n\r\n            .createdAt {\r\n              color: silver;\r\n              font-size: .9em;\r\n            }\r\n          }\r\n        }\r\n\r\n        .content-wrapper-sub {\r\n          width: 100% !important;\r\n        }\r\n\r\n        .content-wrapper {\r\n          display: flex;\r\n          flex-direction: column;\r\n          width: 93%;\r\n          float: right;\r\n\r\n          .main {\r\n            flex: 1;\r\n            border-right: solid 1px black;\r\n          }\r\n\r\n          .main-func {\r\n            display: flex;\r\n            flex: 1;\r\n            align-items: center;\r\n            justify-content: flex-end;\r\n            border-bottom: solid 1px black;\r\n            border-right: solid 1px black;\r\n\r\n            & > div {\r\n              display: inline-block;\r\n              cursor: pointer;\r\n              margin-right: 20px;\r\n            }\r\n          }\r\n\r\n          // reply\r\n          .reply-area-wrapper {\r\n            margin-bottom: 30px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>"]}]}