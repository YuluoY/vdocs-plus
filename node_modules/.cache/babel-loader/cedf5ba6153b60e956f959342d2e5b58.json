{"remainingRequest":"D:\\桌面\\vdocs-plus\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面\\vdocs-plus\\src\\Axios.js","dependencies":[{"path":"D:\\桌面\\vdocs-plus\\src\\Axios.js","mtime":1661219353951},{"path":"D:\\桌面\\vdocs-plus\\babel.config.js","mtime":1658807783766},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661267353134},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\babel-loader\\lib\\index.js","mtime":1661267356503}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1x1Njg0Q1x1OTc2Mi92ZG9jcy1wbHVzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwppbXBvcnQgeyBpc0VtcHR5T2JqLCBtZXJnZSB9IGZyb20gIkAvdXRpbHMiOwp2YXIgQXhpb3MgPSBheGlvcy5jcmVhdGUoKTsKZXhwb3J0IHZhciBCQVNFX1VSTCA9IHByb2Nlc3MuZW52LlZVRV9BUFBfQkFTRV9BUEk7CnZhciBiYXNlQ29uZmlndXJlID0gewogIGJhc2VVUkw6IEJBU0VfVVJMICsgJy9hcGknLAogIHRpbWVvdXQ6IDEwMDAwCn07CnZhciBudW0gPSAwOwpBeGlvcy5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKHJlcSkgewogIG51bSsrOwogIHJldHVybiByZXE7Cn0sIGZ1bmN0aW9uIChlcnIpIHsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTsKfSk7CkF4aW9zLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlcykgewogIG51bS0tOwoKICBpZiAobnVtIDw9IDApIHsKICAgIGltcG9ydCgnLi9BZGFwdCcpOwogIH0KCiAgcmV0dXJuIHJlczsKfSwgZnVuY3Rpb24gKGVycikgewogIHZhciBzdGF0dXMgPSBlcnIucmVzcG9uc2Uuc3RhdHVzOwoKICBzd2l0Y2ggKHN0YXR1cykgewogICAgY2FzZSA0MDU6CiAgICAgIFZ1ZS5wcm90b3R5cGUuJG1lc3NhZ2Uud2FybmluZyhlcnIucmVzcG9uc2UuZGF0YSk7CiAgICAgIGJyZWFrOwogIH0KCiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7Cn0pOwovKg0KKiBGdW5jdGlvbiA6IHJlcXVlc3QNCiogRGVzY3JpcHRpb24gOiDlsIHoo4XlkI7nmoRheGlvc++8jOWPr+S7pemAmui/h29wdGlvbnPphY3nva7pobnlj5HpgIHlkITnp43or7fmsYLvvIzkuZ/og73pgJrov4diaW5k5p2l6Ieq5Yqo57uR5a6a5Y+Y6YeP6LWL5YC877yMDQoqICAgICAgICAgICAgICAg5Zyo6I635Y+W5Yiw5YC85ZCO77yM5L2g5Y+v5Lul6YCa6L+HY2FsbGJhY2vlm57osIPmnaXlj5blvpfor7fmsYLmlbDmja7jgILmiJbogIXlj6/ku6Xnm7TmjqXku47nu4Tku7boh6rouqvojrflj5bvvIjlm6DkuLpiaW5k5bey57uR5a6a6LWL5YC877yJ44CCDQoqICAgICAgICAgICAgICAg5Lmf5bCx5piv6K+077yM6I635Y+W5pWw5o2u5pyJ5Lik56eN5pa55byP77yM5LiA77ya5Zue6LCD5Ye95pWw77yM5LqM77ya57uR5a6a5YC8DQoqIFBhcmFtczogb3B0aW9uc+OAkOW/hemcgOOAkSAtLT4g6YWN572u6aG55re75Yqg44CC6ZyA6KaB57uZ6K+35rGC5re75Yqg6YWN572u6aG577yM5L6L5aaCbWV0aG9k44CBdXJs44CBcGFyYW1z44CCDQoqICAgICAgICAgYmluZOOAkOWPr+mAieOAkSAtLT4g57uR5a6a5Y+Y6YeP5YC844CC57uZ5b2T5YmN55qE57uE5Lu256S65L6LdGhpc+aMgui9veWPmOmHj+W5tui1i+WAvO+8jOaIluWtmOWcqOWPmOmHj+S7hei1i+WAvOOAguWmguaenOS4jemcgOimgemcgOimgeS9v+eUqG51bGzljaDkvY3jgIINCiogICAgICAgICBjYWxsYmFja+OAkOWPr+mAieOAkSAtLT4g5Zue6LCD5Ye95pWw44CC5aaC5p6c5a2Y5Zyo5Zue6LCD5Ye95pWw77yM5YiZ6K+l5Zue6LCD5Ye95pWw55qE56ys5LiA5Liq5Y+C5pWw5bCx5Li66K+35rGC5pWw5o2u44CCDQoqIFJldHVybiA6IOi/lOWbnuS4gOS4qlByb21pc2Xlr7nosaHvvIzpgJrov4d0aGVu5Y+v5Lul6I635Y+W5pWw5o2u44CCDQoqICovCgp2YXIgcmVxdWVzdCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUob3B0aW9ucykgewogICAgdmFyIG9iaiwKICAgICAgICBiaW5kLAogICAgICAgIGNhbGxiYWNrLAogICAgICAgIHJlcywKICAgICAgICBfYXJncyA9IGFyZ3VtZW50czsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgb2JqID0gX2FyZ3MubGVuZ3RoID4gMSAmJiBfYXJnc1sxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3NbMV0gOiB7fTsKICAgICAgICAgICAgYmluZCA9IF9hcmdzLmxlbmd0aCA+IDIgJiYgX2FyZ3NbMl0gIT09IHVuZGVmaW5lZCA/IF9hcmdzWzJdIDogbnVsbDsKICAgICAgICAgICAgY2FsbGJhY2sgPSBfYXJncy5sZW5ndGggPiAzICYmIF9hcmdzWzNdICE9PSB1bmRlZmluZWQgPyBfYXJnc1szXSA6IG51bGw7CiAgICAgICAgICAgIG9wdGlvbnMgPSByZXF1ZXN0TWlkZGxlV2FyZShvcHRpb25zLCBvYmopIHx8IHt9OyAvLyDnu5/kuIDor7fmsYLlj4LmlbDorr7lrpoKCiAgICAgICAgICAgIG1lcmdlKG9wdGlvbnMsIGJhc2VDb25maWd1cmUpOyAvLyDlkIjlubbphY3nva7pobkKCiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICByZXR1cm4gQXhpb3Mob3B0aW9ucyk7CgogICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAvLyDlj5Hlh7phamF46K+35rGCCiAgICAgICAgICAgICEhYmluZCAmJiAodGhpc1tiaW5kXSA9IHJlcy5kYXRhKTsgLy8g5Li6dGhpc+S4iueahOafkOS4quWPmOmHj+e7keWumuWAvAoKICAgICAgICAgICAgdHlwZW9mIGNhbGxiYWNrID09PSAiZnVuY3Rpb24iICYmIGNhbGxiYWNrKHJlcyk7IC8vIOWmguaenOacieWbnuiwg++8jOWwseWwhuWAvOS8oOWFpeWbnuiwg+W5tuS9v+eUqOWbnuiwg+WHveaVsAoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgcmVzKTsKCiAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUsIHRoaXMpOwogIH0pKTsKCiAgcmV0dXJuIGZ1bmN0aW9uIHJlcXVlc3QoX3gpIHsKICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfTsKfSgpOwoKZnVuY3Rpb24gcmVxdWVzdE1pZGRsZVdhcmUob3B0aW9ucywgb2JqKSB7CiAgaWYgKCFvcHRpb25zWyJtZXRob2QiXSB8fCBpc0VtcHR5T2JqKG9iaikpIHJldHVybiBvcHRpb25zOwogIHZhciBzdHIgPSAiZGF0YSI7CiAgWyJnZXQiLCAiZGVsZXRlIl0uaW5jbHVkZXMob3B0aW9uc1sibWV0aG9kIl0pICYmIChzdHIgPSAicGFyYW1zIik7CiAgb3B0aW9uc1tzdHJdID0gb2JqOwogIHJldHVybiBvcHRpb25zOwp9CgpleHBvcnQgZGVmYXVsdCByZXF1ZXN0Ow=="},{"version":3,"names":["axios","Vue","isEmptyObj","merge","Axios","create","BASE_URL","process","env","VUE_APP_BASE_API","baseConfigure","baseURL","timeout","num","interceptors","request","use","req","err","Promise","reject","response","res","status","prototype","$message","warning","data","options","obj","bind","callback","requestMiddleWare","str","includes"],"sources":["D:/桌面/vdocs-plus/src/Axios.js"],"sourcesContent":["import axios from \"axios\";\r\nimport Vue from \"vue\";\r\nimport {isEmptyObj, merge} from \"@/utils\";\r\n\r\nconst Axios = axios.create();\r\nexport const BASE_URL = process.env.VUE_APP_BASE_API\r\nconst baseConfigure = {\r\n    baseURL: BASE_URL + '/api',\r\n    timeout: 10000\r\n}\r\n\r\nlet num = 0\r\n\r\nAxios.interceptors.request.use(req => {\r\n    num++;\r\n    return req;\r\n}, err => {\r\n    return Promise.reject(err);\r\n})\r\n\r\nAxios.interceptors.response.use(res => {\r\n    num--;\r\n    if(num <= 0){\r\n        import('./Adapt')\r\n    }\r\n    return res;\r\n}, err => {\r\n    const {status} = err.response;\r\n    switch (status) {\r\n        case 405:\r\n            Vue.prototype.$message.warning(err.response.data);\r\n            break;\r\n    }\r\n    return Promise.reject(err)\r\n})\r\n\r\n/*\r\n* Function : request\r\n* Description : 封装后的axios，可以通过options配置项发送各种请求，也能通过bind来自动绑定变量赋值，\r\n*               在获取到值后，你可以通过callback回调来取得请求数据。或者可以直接从组件自身获取（因为bind已绑定赋值）。\r\n*               也就是说，获取数据有两种方式，一：回调函数，二：绑定值\r\n* Params: options【必需】 --> 配置项添加。需要给请求添加配置项，例如method、url、params。\r\n*         bind【可选】 --> 绑定变量值。给当前的组件示例this挂载变量并赋值，或存在变量仅赋值。如果不需要需要使用null占位。\r\n*         callback【可选】 --> 回调函数。如果存在回调函数，则该回调函数的第一个参数就为请求数据。\r\n* Return : 返回一个Promise对象，通过then可以获取数据。\r\n* */\r\nconst request = async function (options, obj = {}, bind = null, callback = null) {\r\n    options = requestMiddleWare(options, obj) || {}; // 统一请求参数设定\r\n    merge(options, baseConfigure); // 合并配置项\r\n    const res = await Axios(options); // 发出ajax请求\r\n    !!bind && (this[bind] = res.data);  // 为this上的某个变量绑定值\r\n    typeof callback === \"function\" && callback(res); // 如果有回调，就将值传入回调并使用回调函数\r\n    return res;\r\n};\r\n\r\n\r\nfunction requestMiddleWare(options, obj) {\r\n    if (!options[\"method\"] || isEmptyObj(obj)) return options;\r\n    let str = \"data\";\r\n    [\"get\", \"delete\"].includes(options[\"method\"]) && (str = \"params\");\r\n    options[str] = obj;\r\n    return options;\r\n}\r\n\r\nexport default request\r\n\r\n"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,KAAhB;AACA,SAAQC,UAAR,EAAoBC,KAApB,QAAgC,SAAhC;AAEA,IAAMC,KAAK,GAAGJ,KAAK,CAACK,MAAN,EAAd;AACA,OAAO,IAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAR,CAAYC,gBAA7B;AACP,IAAMC,aAAa,GAAG;EAClBC,OAAO,EAAEL,QAAQ,GAAG,MADF;EAElBM,OAAO,EAAE;AAFS,CAAtB;AAKA,IAAIC,GAAG,GAAG,CAAV;AAEAT,KAAK,CAACU,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+B,UAAAC,GAAG,EAAI;EAClCJ,GAAG;EACH,OAAOI,GAAP;AACH,CAHD,EAGG,UAAAC,GAAG,EAAI;EACN,OAAOC,OAAO,CAACC,MAAR,CAAeF,GAAf,CAAP;AACH,CALD;AAOAd,KAAK,CAACU,YAAN,CAAmBO,QAAnB,CAA4BL,GAA5B,CAAgC,UAAAM,GAAG,EAAI;EACnCT,GAAG;;EACH,IAAGA,GAAG,IAAI,CAAV,EAAY;IACR,OAAO,SAAP;EACH;;EACD,OAAOS,GAAP;AACH,CAND,EAMG,UAAAJ,GAAG,EAAI;EACN,IAAOK,MAAP,GAAiBL,GAAG,CAACG,QAArB,CAAOE,MAAP;;EACA,QAAQA,MAAR;IACI,KAAK,GAAL;MACItB,GAAG,CAACuB,SAAJ,CAAcC,QAAd,CAAuBC,OAAvB,CAA+BR,GAAG,CAACG,QAAJ,CAAaM,IAA5C;MACA;EAHR;;EAKA,OAAOR,OAAO,CAACC,MAAR,CAAeF,GAAf,CAAP;AACH,CAdD;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAMH,OAAO;EAAA,mEAAG,iBAAgBa,OAAhB;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;MAAA;QAAA;UAAA;YAAyBC,GAAzB,2DAA+B,EAA/B;YAAmCC,IAAnC,2DAA0C,IAA1C;YAAgDC,QAAhD,2DAA2D,IAA3D;YACZH,OAAO,GAAGI,iBAAiB,CAACJ,OAAD,EAAUC,GAAV,CAAjB,IAAmC,EAA7C,CADY,CACqC;;YACjD1B,KAAK,CAACyB,OAAD,EAAUlB,aAAV,CAAL,CAFY,CAEmB;;YAFnB;YAAA,OAGMN,KAAK,CAACwB,OAAD,CAHX;;UAAA;YAGNN,GAHM;YAGsB;YAClC,CAAC,CAACQ,IAAF,KAAW,KAAKA,IAAL,IAAaR,GAAG,CAACK,IAA5B,EAJY,CAIwB;;YACpC,OAAOI,QAAP,KAAoB,UAApB,IAAkCA,QAAQ,CAACT,GAAD,CAA1C,CALY,CAKqC;;YALrC,iCAMLA,GANK;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAH;;EAAA,gBAAPP,OAAO;IAAA;EAAA;AAAA,GAAb;;AAUA,SAASiB,iBAAT,CAA2BJ,OAA3B,EAAoCC,GAApC,EAAyC;EACrC,IAAI,CAACD,OAAO,CAAC,QAAD,CAAR,IAAsB1B,UAAU,CAAC2B,GAAD,CAApC,EAA2C,OAAOD,OAAP;EAC3C,IAAIK,GAAG,GAAG,MAAV;EACA,CAAC,KAAD,EAAQ,QAAR,EAAkBC,QAAlB,CAA2BN,OAAO,CAAC,QAAD,CAAlC,MAAkDK,GAAG,GAAG,QAAxD;EACAL,OAAO,CAACK,GAAD,CAAP,GAAeJ,GAAf;EACA,OAAOD,OAAP;AACH;;AAED,eAAeb,OAAf"}]}