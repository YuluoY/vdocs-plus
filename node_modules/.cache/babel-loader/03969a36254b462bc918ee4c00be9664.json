{"remainingRequest":"D:\\桌面\\vdocs-plus\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面\\vdocs-plus\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\桌面\\vdocs-plus\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\桌面\\vdocs-plus\\src\\components\\h-header.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\桌面\\vdocs-plus\\src\\components\\h-header.vue","mtime":1660262667345},{"path":"D:\\桌面\\vdocs-plus\\babel.config.js","mtime":1658807783766},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661267353134},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\babel-loader\\lib\\index.js","mtime":1661267356503},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661267353134},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\vue-loader\\lib\\index.js","mtime":1661267357130}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IEhSb3V0ZXJMaW5rIGZyb20gIkAvY29tcG9uZW50cy9oLXJvdXRlci1saW5rIjsKaW1wb3J0IHsgYWRkQ2xhc3MsIGRlbGV0ZUNsYXNzIH0gZnJvbSAiQC91dGlscy9kb20iOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImgtaGVhZGVyIiwKICBjb21wb25lbnRzOiB7CiAgICBIUm91dGVyTGluazogSFJvdXRlckxpbmsKICB9LAogIHByb3BzOiB7CiAgICBpc0hlYWRlcjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgaXNTaWRlYmFyQWx3YXlzU2hvdzogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbk9wZW5Ecm9wTGlzdDogZnVuY3Rpb24gb25PcGVuRHJvcExpc3QobikgewogICAgICB2YXIgZHJvcExpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJkcm9wTGlzdC0iLmNvbmNhdChuLmlkKSlbMF07CiAgICAgIGFkZENsYXNzKGRyb3BMaXN0LCAnaC1oZWFkZXItc2hvdycpOwogICAgICBkZWxldGVDbGFzcyhkcm9wTGlzdCwgJ2gtaGVhZGVyLWhpZGUnKTsKICAgIH0sCiAgICBvbkhpZGVEcm9wTGlzdDogZnVuY3Rpb24gb25IaWRlRHJvcExpc3QobikgewogICAgICB2YXIgZHJvcExpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJkcm9wTGlzdC0iLmNvbmNhdChuLmlkKSlbMF07CiAgICAgIGRlbGV0ZUNsYXNzKGRyb3BMaXN0LCAnaC1oZWFkZXItc2hvdycpOwogICAgfSwKICAgIG9uTG9naW5IYW5kbGU6IGZ1bmN0aW9uIG9uTG9naW5IYW5kbGUoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvbG9naW4nKTsKICAgIH0sCiAgICBvblRpcEhhbmRsZTogZnVuY3Rpb24gb25UaXBIYW5kbGUoKSB7fSwKICAgIG9uU2VhcmNoSGFuZGxlOiBmdW5jdGlvbiBvblNlYXJjaEhhbmRsZSgpIHt9CiAgfSwKICBjb21wdXRlZDogbWFwU3RhdGUoewogICAgdXNlckluZm86IGZ1bmN0aW9uIHVzZXJJbmZvKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS51c2VyLnVzZXJJbmZvOwogICAgfSwKICAgIG5hdjogZnVuY3Rpb24gbmF2KHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5hcHAuaGVhZGVyLm5hdjsKICAgIH0sCiAgICBjb250YWN0OiBmdW5jdGlvbiBjb250YWN0KHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5hcHAuaGVhZGVyLmNvbnRhY3Q7CiAgICB9CiAgfSksCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBoZWFkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdoLWhlYWRlcicpWzBdOwogICAgICB2YXIgYXJ0aWNsZVNpZGViYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdoLWFydGljbGUtc2lkZWJhcicpWzBdOwogICAgICB2YXIgc2lkZWJhciA9IG51bGw7CgogICAgICBpZiAoX3RoaXMuaXNTaWRlYmFyQWx3YXlzU2hvdykgewogICAgICAgIHNpZGViYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdoLXNpZGViYXInKVswXTsKICAgICAgfQoKICAgICAgaWYgKGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wID49IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0IC0gMzApIHsKICAgICAgICBoZWFkZXIgJiYgZGVsZXRlQ2xhc3MoaGVhZGVyLCBbJ2gtaGVhZGVyLXRyYW5zcGFyZW50JywgJ2gtaGVhZGVyLXNob3cnXSk7CiAgICAgICAgaGVhZGVyICYmIGFkZENsYXNzKGhlYWRlciwgJ2gtaGVhZGVyLWhpZGUnKTsKICAgICAgICBzaWRlYmFyICYmIChzaWRlYmFyLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJyk7CgogICAgICAgIGlmIChhcnRpY2xlU2lkZWJhcikgewogICAgICAgICAgYXJ0aWNsZVNpZGViYXIgJiYgYWRkQ2xhc3MoYXJ0aWNsZVNpZGViYXIsICdoLWFydGljbGUtc2lkZWJhcjInKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgPT09IDApIHsKICAgICAgICBoZWFkZXIgJiYgYWRkQ2xhc3MoaGVhZGVyLCAnaC1oZWFkZXItdHJhbnNwYXJlbnQnKTsKICAgICAgICBoZWFkZXIgJiYgZGVsZXRlQ2xhc3MoaGVhZGVyLCBbJ2gtaGVhZGVyLXNob3cnLCAnaC1oZWFkZXItaGlkZSddKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBoZWFkZXIgJiYgYWRkQ2xhc3MoaGVhZGVyLCAnaC1oZWFkZXItc2hvdycpOwogICAgICAgIGhlYWRlciAmJiBkZWxldGVDbGFzcyhoZWFkZXIsIFsnaC1oZWFkZXItaGlkZScsICdoLWhlYWRlci10cmFuc3BhcmVudCddKTsKICAgICAgICBzaWRlYmFyICYmIChzaWRlYmFyLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJyk7CgogICAgICAgIGlmIChhcnRpY2xlU2lkZWJhcikgewogICAgICAgICAgYXJ0aWNsZVNpZGViYXIgJiYgZGVsZXRlQ2xhc3MoYXJ0aWNsZVNpZGViYXIsICdoLWFydGljbGUtc2lkZWJhcjInKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZnVuY3Rpb24gKCkgewogICAgICBjb25zb2xlLmxvZygn6ZSA5q+B6aG26YOo5a+86IiqJyk7CiAgICB9KTsKICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;AACA;AACA;AAEA;EACAA,gBADA;EAEAC;IAAAC;EAAA,CAFA;EAGAC;IACAC;MAAAC;MAAAC;IAAA,CADA;IAEAC;MAAAF;MAAAC;IAAA;EAFA,CAHA;EAOAE;IACAC,cADA,0BACAC,CADA,EACA;MACA;MACAC;MACAC;IACA,CALA;IAMAC,cANA,0BAMAH,CANA,EAMA;MACA;MACAE;IACA,CATA;IAUAE,aAVA,2BAUA;MACA;IACA,CAZA;IAaAC,WAbA,yBAaA,CAEA,CAfA;IAgBAC,cAhBA,4BAgBA,CAEA;EAlBA,CAPA;EA2BAC;IACAC;MAAA;IAAA,CADA;IAEAC;MAAA;IAAA,CAFA;IAGAC;MAAA;IAAA;EAHA,EA3BA;EAgCAC,OAhCA,qBAgCA;IAAA;;IACAC;MACA;MACA;MACA;;MACA;QACAC;MACA;;MAEA;QACAC;QACAA;QACAD;;QACA;UACAE;QACA;MACA,CAPA,MAOA;QACAD;QACAA;MACA,CAHA,MAGA;QACAA;QACAA;QACAD;;QACA;UACAE;QACA;MACA;IACA,CA1BA;EA2BA,CA5DA;EA6DAC,aA7DA,2BA6DA;IACAJ;MACAK;IACA,CAFA;EAGA;AAjEA","names":["name","components","HRouterLink","props","isHeader","type","default","isSidebarAlwaysShow","methods","onOpenDropList","n","addClass","deleteClass","onHideDropList","onLoginHandle","onTipHandle","onSearchHandle","computed","userInfo","nav","contact","mounted","document","sidebar","header","articleSidebar","beforeDestroy","console"],"sourceRoot":"src/components","sources":["h-header.vue"],"sourcesContent":["<template>\r\n    <div class=\"h-header forbid-select-text\" v-if=\"isHeader\">\r\n        <div style=\"width: 100vw;\" class=\"h-header-box\">\r\n            <div class=\"info\">\r\n                <a href=\"/\">\r\n                    <img class=\"logo\" :src=\"userInfo.logo\"/>\r\n                    <span class=\"name\" :title=\"userInfo.name\">{{ userInfo.name }}</span>\r\n                </a>\r\n            </div>\r\n            <div class=\"nav\">\r\n                <div v-for=\"(n, i) in nav\" :key=\"i\"\r\n                     :class=\"`nav-link-box nav-link-box-${i}`\"\r\n                     @mouseover=\"n.children && onOpenDropList(n)\"\r\n                     @mouseleave=\"n.children && onHideDropList(n)\">\r\n                    <h-router-link\r\n                            :href=\"n.path\"\r\n                            :title=\"n.title\"\r\n                            style=\"display: flex;align-items: center;\">\r\n                        <svg-icon :icon-class=\"n.iconClass\"></svg-icon>\r\n                        <span style=\"margin-left: 5px;\">{{ n.label }}</span>\r\n                        <svg-icon v-if=\"n.children\" icon-class=\"drop-down\"></svg-icon>\r\n                    </h-router-link>\r\n                    <div :class=\"`dropList-wrapper dropList-${i}`\" v-if=\"n.children\">\r\n                        <h-router-link\r\n                                v-for=\"(item, i) in n.children\" :key='i'\r\n                                :href=\"item.path\"\r\n                                :title=\"item.title\">\r\n                            <span>{{ item.label }}</span>\r\n                        </h-router-link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"contact\">\r\n                <!--                <h-router-link-->\r\n                <!--                        :href=\"n.href\"-->\r\n                <!--                        :title=\"n.title\"-->\r\n                <!--                        v-for=\"(n, i) in contact\" :key=\"i\"-->\r\n                <!--                        style=\"display: flex;align-items: center;\">-->\r\n                <!--                    <svg-icon :icon-class=\"n.iconClass\"></svg-icon>-->\r\n                <!--                </h-router-link>-->\r\n                <div class=\"little-tools\">\r\n                    <svg-icon icon-class=\"login\" class-name=\"login\" @click=\"onLoginHandle\" title=\"登录\"></svg-icon>\r\n                    <svg-icon icon-class=\"tip\" class-name=\"tip\" @click=\"onTipHandle\" title=\"友情提示\"></svg-icon>\r\n                    <svg-icon icon-class=\"search\" class-name=\"search\" @click=\"onSearchHandle\" title=\"站内搜索\"></svg-icon>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {mapState} from \"vuex\";\r\n    import HRouterLink from \"@/components/h-router-link\";\r\n    import {addClass, deleteClass} from \"@/utils/dom\";\r\n\r\n    export default {\r\n        name: \"h-header\",\r\n        components: {HRouterLink},\r\n        props: {\r\n            isHeader: {type: Boolean, default: true},\r\n            isSidebarAlwaysShow: {type: Boolean, default: true}\r\n        },\r\n        methods: {\r\n            onOpenDropList(n) {\r\n                const dropList = document.getElementsByClassName(`dropList-${n.id}`)[0];\r\n                addClass(dropList, 'h-header-show')\r\n                deleteClass(dropList, 'h-header-hide')\r\n            },\r\n            onHideDropList(n) {\r\n                const dropList = document.getElementsByClassName(`dropList-${n.id}`)[0];\r\n                deleteClass(dropList, 'h-header-show')\r\n            },\r\n            onLoginHandle() {\r\n                this.$router.push('/login')\r\n            },\r\n            onTipHandle() {\r\n\r\n            },\r\n            onSearchHandle() {\r\n\r\n            }\r\n        },\r\n        computed: mapState({\r\n            userInfo: state => state.user.userInfo,\r\n            nav: state => state.app.header.nav,\r\n            contact: state => state.app.header.contact\r\n        }),\r\n        mounted() {\r\n            document.body.addEventListener('scroll', () => {\r\n                const header = document.getElementsByClassName('h-header')[0];\r\n                const articleSidebar = document.getElementsByClassName('h-article-sidebar')[0];\r\n                let sidebar = null;\r\n                if (this.isSidebarAlwaysShow) {\r\n                    sidebar = document.getElementsByClassName('h-sidebar')[0];\r\n                }\r\n\r\n                if (document.body.scrollTop >= document.body.clientHeight - 30) {\r\n                    header && deleteClass(header, ['h-header-transparent', 'h-header-show'])\r\n                    header && addClass(header, 'h-header-hide')\r\n                    sidebar && (sidebar.style.position = 'fixed');\r\n                    if (articleSidebar) {\r\n                        articleSidebar && addClass(articleSidebar, 'h-article-sidebar2');\r\n                    }\r\n                } else if (document.body.scrollTop === 0) {\r\n                    header && addClass(header, 'h-header-transparent');\r\n                    header && deleteClass(header, ['h-header-show', 'h-header-hide'])\r\n                } else {\r\n                    header && addClass(header, 'h-header-show');\r\n                    header && deleteClass(header, ['h-header-hide', 'h-header-transparent'])\r\n                    sidebar && (sidebar.style.position = 'absolute');\r\n                    if (articleSidebar) {\r\n                        articleSidebar && deleteClass(articleSidebar, 'h-article-sidebar2')\r\n                    }\r\n                }\r\n            })\r\n        },\r\n        beforeDestroy() {\r\n            document.body.removeEventListener('scroll', () => {\r\n                console.log('销毁顶部导航')\r\n            });\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>"]}]}