{"remainingRequest":"D:\\桌面\\vdocs-plus\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面\\vdocs-plus\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\桌面\\vdocs-plus\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\桌面\\vdocs-plus\\src\\components\\sidebar\\WebsiteInfoWrapper.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\桌面\\vdocs-plus\\src\\components\\sidebar\\WebsiteInfoWrapper.vue","mtime":1660739217042},{"path":"D:\\桌面\\vdocs-plus\\babel.config.js","mtime":1658807783766},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661267353134},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\babel-loader\\lib\\index.js","mtime":1661267356503},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661267353134},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\vue-loader\\lib\\index.js","mtime":1661267357130}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1x1Njg0Q1x1OTc2Mi92ZG9jcy1wbHVzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgZGF5anMgZnJvbSAiZGF5anMiOwppbXBvcnQgU2lkZWJhckl0ZW0gZnJvbSAiQC9jb21wb25lbnRzL3NpZGViYXIvU2lkZWJhckl0ZW0iOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIldlYnNpdGVJbmZvV3JhcHBlciIsCiAgY29tcG9uZW50czogewogICAgU2lkZWJhckl0ZW06IFNpZGViYXJJdGVtCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcnVubmluZ1N0cjogJycKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBkYXRlRm9ybWF0dGVyOiBmdW5jdGlvbiBkYXRlRm9ybWF0dGVyKHZhbCkgewogICAgICB2YXIgZGF5ID0gZGF5anMoRGF0ZS5ub3coKSkuZGlmZih2YWwsICdkYXlzJyk7CiAgICAgIHZhciBob3VyID0gZGF5anMoRGF0ZS5ub3coKSkuZGlmZih2YWwsICdob3VycycpICUgMjQ7CiAgICAgIHZhciBtaW51dGUgPSBkYXlqcyhEYXRlLm5vdygpKS5kaWZmKHZhbCwgJ21pbnV0ZScpICUgNjA7CiAgICAgIHZhciBzZWNvbmQgPSBkYXlqcyhEYXRlLm5vdygpKS5kaWZmKHZhbCwgJ3NlY29uZHMnKSAlIDYwOwogICAgICBzZWNvbmQgPSBzZWNvbmQgPCAxMCA/ICcwJyArIHNlY29uZCA6IHNlY29uZDsKICAgICAgbWludXRlID0gbWludXRlIDwgMTAgPyAnMCcgKyBtaW51dGUgOiBtaW51dGU7CiAgICAgIGhvdXIgPSBob3VyIDwgMTAgPyAnMCcgKyBob3VyIDogaG91cjsKICAgICAgZGF5ID0gZGF5IDwgMTAgPyAnMCcgKyBkYXkgOiBkYXk7CiAgICAgIHRoaXMucnVubmluZ1N0ciA9ICIiLmNvbmNhdChkYXksICJcdTU5MjkiKS5jb25jYXQoaG91ciwgIlx1NjVGNiIpLmNvbmNhdChtaW51dGUsICJcdTUyMDYiKS5jb25jYXQoc2Vjb25kLCAiXHU3OUQyIik7CiAgICB9LAogICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpcy4kYXBpcy5yZXN0LmdldFVzZXJJcCgpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHJlcykgewogICAgICAgICAgICAgICAgICAgIHZhciBfeWllbGQkX3RoaXMkJGFwaXMkd2UsIGRhdGEsIG9iajsKCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJGFwaXMud2ViLmdldEFuZFVwZGF0ZUNvdW50KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaXRvckluZm86IHJlcy5kYXRhCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3lpZWxkJF90aGlzJCRhcGlzJHdlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkX3RoaXMkJGFwaXMkd2UuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iaiA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogJ3dlYnNpdGVJbmZvQXJlYS5pbmZvJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBkYXRhCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoJ2FwcC9zZXRTaWRlYmFyJywgb2JqKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBjb21wdXRlZDogbWFwU3RhdGUoewogICAgd2Vic2l0ZTogZnVuY3Rpb24gd2Vic2l0ZShzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuYXBwLnNpZGViYXIud2Vic2l0ZUluZm9BcmVhOwogICAgfQogIH0pLAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmluaXQoKTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gX3RoaXMyLmRhdGVGb3JtYXR0ZXIoX3RoaXMyLndlYnNpdGUuaW5mby5ydW5uaW5nKTsKICAgIH0sIDEwMDApOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;AAeA;AACA;AACA;AAEA;EACAA,0BADA;EAEAC;IAAAC;EAAA,CAFA;EAGAC,IAHA,kBAGA;IACA;MACAC;IADA;EAGA,CAPA;EAQAC;IACAC,aADA,yBACAC,GADA,EACA;MACA;MACA;MACA;MACA;MACAC;MACAC;MACAC;MACAC;MACA;IACA,CAXA;IAYAC,IAZA,kBAYA;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;gBACA;kBAAA;oBAAA;;oBAAA;sBAAA;wBAAA;0BAAA;4BAAA;4BAAA,OACA;8BAAAC;4BAAA,EADA;;0BAAA;4BAAA;4BACAV,IADA,yBACAA,IADA;4BAEAW,GAFA,GAEA;8BACAC,4BADA;8BAEAC;4BAFA,CAFA;;4BAMA;;0BANA;0BAAA;4BAAA;wBAAA;sBAAA;oBAAA;kBAAA;;kBAAA;oBAAA;kBAAA;gBAAA;;cADA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IASA;EArBA,CARA;EA+BAC;IACAC;MAAA;IAAA;EADA,EA/BA;EAkCAC,OAlCA,qBAkCA;IACA;EACA,CApCA;EAqCAC,OArCA,qBAqCA;IAAA;;IACA;MAAA;IAAA;EACA,CAvCA;EAwCAC,aAxCA,2BAwCA;IACAC;EACA;AA1CA","names":["name","components","SidebarItem","data","runningStr","methods","dateFormatter","val","second","minute","hour","day","init","visitorInfo","obj","path","target","computed","website","created","mounted","beforeDestroy","clearInterval"],"sourceRoot":"src/components/sidebar","sources":["WebsiteInfoWrapper.vue"],"sourcesContent":["<template>\r\n    <sidebar-item :title=\"website.title\">\r\n        <div class=\"websiteInfoWrapper\">\r\n            <div class=\"website-info-box\">\r\n                <div class=\"visitorNum\">访问人数：{{ website.info.visitorNum }}</div>\r\n                <div class=\"visitNum\">访问次数：{{ website.info.visitNum }}</div>\r\n                <!--            <div class=\"establish\">建站时间：{{ model.establish }}</div>-->\r\n                <div class=\"responseTime\">响应耗时：{{ website.info.webResponseTime }}ms</div>\r\n                <div class=\"running\">本站已运行：{{ runningStr }}</div>\r\n            </div>\r\n        </div>\r\n    </sidebar-item>\r\n</template>\r\n\r\n<script>\r\n    import dayjs from \"dayjs\";\r\n    import SidebarItem from \"@/components/sidebar/SidebarItem\";\r\n    import {mapState} from \"vuex\";\r\n\r\n    export default {\r\n        name: \"WebsiteInfoWrapper\",\r\n        components: {SidebarItem},\r\n        data() {\r\n            return {\r\n                runningStr: ''\r\n            }\r\n        },\r\n        methods: {\r\n            dateFormatter(val) {\r\n                let day = dayjs(Date.now()).diff(val, 'days')\r\n                let hour = dayjs(Date.now()).diff(val, 'hours') % 24\r\n                let minute = dayjs(Date.now()).diff(val, 'minute') % 60\r\n                let second = dayjs(Date.now()).diff(val, 'seconds') % 60\r\n                second = second < 10 ? '0' + second : second;\r\n                minute = minute < 10 ? '0' + minute : minute;\r\n                hour = hour < 10 ? '0' + hour : hour;\r\n                day = day < 10 ? '0' + day : day;\r\n                this.runningStr = `${day}天${hour}时${minute}分${second}秒`\r\n            },\r\n            async init() {\r\n                this.$apis.rest.getUserIp().then(async res => {\r\n                    const {data} = await this.$apis.web.getAndUpdateCount({visitorInfo: res.data});\r\n                    const obj = {\r\n                        path: 'websiteInfoArea.info',\r\n                        target: data,\r\n                    }\r\n                    this.$store.commit('app/setSidebar', obj);\r\n                })\r\n            }\r\n        },\r\n        computed: mapState({\r\n            website: state => state.app.sidebar.websiteInfoArea\r\n        }),\r\n        created() {\r\n            this.init();\r\n        },\r\n        mounted() {\r\n            this.timer = setInterval(() => this.dateFormatter(this.website.info.running), 1000)\r\n        },\r\n        beforeDestroy() {\r\n            clearInterval(this.timer)\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .websiteInfoWrapper {\r\n    .website-info-box {\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: flex-start;\r\n\r\n      & > div {\r\n        padding: 5px 10px;\r\n        letter-spacing: 2px;\r\n      }\r\n    }\r\n  }\r\n</style>"]}]}