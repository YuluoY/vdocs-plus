{"remainingRequest":"D:\\桌面\\vdocs-plus\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面\\vdocs-plus\\src\\ui\\package\\Loading\\index.js","dependencies":[{"path":"D:\\桌面\\vdocs-plus\\src\\ui\\package\\Loading\\index.js","mtime":1653640183469},{"path":"D:\\桌面\\vdocs-plus\\babel.config.js","mtime":1658807783766},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661267353134},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\babel-loader\\lib\\index.js","mtime":1661267356503}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwppbXBvcnQgTG9hZGluZyBmcm9tICIuL3NyYy9Mb2FkaW5nIjsKaW1wb3J0IHsgZGVlcE1lcmdlLCBtZXJnZSB9IGZyb20gIi4uLy4uL3V0aWwvY29yZSI7CnZhciBzZWVkID0gMTsKdmFyIGRlZmF1bHRPcHRpb25zID0gewogIHRleHQ6ICdsb2FkaW5nLi4uJywKICB2aXNpYmxlOiBmYWxzZSwKICBiYWNrZ3JvdW5kOiAncmdiYSgwLDAsMCwwLjMpJywKICBkb206IGRvY3VtZW50LmJvZHksCiAgYm9yZGVyUmFkaXVzOiAndW5zZXQnCn07CnZhciBkZWZhdWx0T3B0aW9uc1JhdyA9IE9iamVjdC5hc3NpZ24oe30pOwpkZWVwTWVyZ2UoZGVmYXVsdE9wdGlvbnNSYXcsIGRlZmF1bHRPcHRpb25zKTsKdmFyIGxvYWRpbmdDb25zdHJ1Y3RvciA9IFZ1ZS5leHRlbmQoTG9hZGluZyk7CnZhciBsb2FkaW5nSW5zdGFuY2UgPSBuZXcgbG9hZGluZ0NvbnN0cnVjdG9yKHt9KTsKCnZhciBsb2FkaW5nID0gZnVuY3Rpb24gbG9hZGluZygpIHsKICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CiAgbG9hZGluZ0luc3RhbmNlLiRtb3VudCgpOwogIG1lcmdlKGxvYWRpbmdJbnN0YW5jZS4kcHJvcHMsIGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTsKICBsb2FkaW5nSW5zdGFuY2UuJHByb3BzLmJvcmRlclJhZGl1cyA9IGdldENvbXB1dGVkU3R5bGUobG9hZGluZ0luc3RhbmNlLiRwcm9wcy5kb20pLmJvcmRlclJhZGl1czsKICBsb2FkaW5nSW5zdGFuY2UuJHByb3BzLmRvbS5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7CiAgbG9hZGluZ0luc3RhbmNlLiRwcm9wcy5kb20uYXBwZW5kQ2hpbGQobG9hZGluZ0luc3RhbmNlLiRlbCk7CiAgbG9hZGluZ0luc3RhbmNlLnZpc2libGUgPSB0cnVlOwogIGRlZXBNZXJnZShkZWZhdWx0T3B0aW9ucywgZGVmYXVsdE9wdGlvbnNSYXcpOwogIHJldHVybiBsb2FkaW5nSW5zdGFuY2U7Cn07IC8vIOWNleS+i+aooeW8j+acjeWKoQoKCmxvYWRpbmcuc2VydmljZSA9IGZ1bmN0aW9uICgpIHsKICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CiAgdmFyIGluc3RhbmNlID0gbmV3IGxvYWRpbmdDb25zdHJ1Y3Rvcih7fSk7CiAgaW5zdGFuY2UuJG1vdW50KCk7CiAgbWVyZ2UoaW5zdGFuY2UuJHByb3BzLCBkZWZhdWx0T3B0aW9ucywgb3B0aW9ucyk7CiAgaW5zdGFuY2UuJHByb3BzLmJvcmRlclJhZGl1cyA9IGdldENvbXB1dGVkU3R5bGUoaW5zdGFuY2UuJHByb3BzLmRvbSkuYm9yZGVyUmFkaXVzOwogIGluc3RhbmNlLiRwcm9wcy5kb20uc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnOwogIGluc3RhbmNlLmlkID0gImxvYWRpbmdfIi5jb25jYXQoc2VlZCsrKTsKICBpbnN0YW5jZS4kcHJvcHMuZG9tLmFwcGVuZENoaWxkKGluc3RhbmNlLiRlbCk7CiAgaW5zdGFuY2UudmlzaWJsZSA9IHRydWU7CgogIGluc3RhbmNlLmNsb3NlID0gZnVuY3Rpb24gKCkgewogICAgdmFyIHRpbWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDE7CiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgaW5zdGFuY2UudmlzaWJsZSA9IGZhbHNlOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gaW5zdGFuY2UuJHByb3BzLmRvbS5zdHlsZS5wb3NpdGlvbiA9ICd1bnNldCc7CiAgICAgIH0sIDUwMCk7CiAgICB9LCB0aW1lICogMTAwMCk7CiAgfTsKCiAgZGVlcE1lcmdlKGRlZmF1bHRPcHRpb25zLCBkZWZhdWx0T3B0aW9uc1Jhdyk7CiAgcmV0dXJuIGluc3RhbmNlOwp9OwoKbG9hZGluZ0luc3RhbmNlLmNsb3NlID0gZnVuY3Rpb24gKCkgewogIHZhciB0aW1lID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAxOwogIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgbG9hZGluZ0luc3RhbmNlLnZpc2libGUgPSBmYWxzZTsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gbG9hZGluZ0luc3RhbmNlLiRwcm9wcy5kb20uc3R5bGUucG9zaXRpb24gPSAndW5zZXQnOwogICAgfSwgNTAwKTsKICB9LCB0aW1lICogMTAwMCk7Cn07CgpleHBvcnQgZGVmYXVsdCBsb2FkaW5nOw=="},{"version":3,"names":["Vue","Loading","deepMerge","merge","seed","defaultOptions","text","visible","background","dom","document","body","borderRadius","defaultOptionsRaw","Object","assign","loadingConstructor","extend","loadingInstance","loading","options","$mount","$props","getComputedStyle","style","position","appendChild","$el","service","instance","id","close","time","setTimeout"],"sources":["D:/桌面/vdocs-plus/src/ui/package/Loading/index.js"],"sourcesContent":["import Vue from \"vue\";\r\nimport Loading from \"./src/Loading\";\r\nimport {deepMerge, merge} from \"../../util/core\";\r\n\r\nlet seed = 1;\r\n\r\nconst defaultOptions = {\r\n    text: 'loading...',\r\n    visible: false,\r\n    background: 'rgba(0,0,0,0.3)',\r\n    dom: document.body,\r\n    borderRadius: 'unset',\r\n}\r\n\r\nconst defaultOptionsRaw = Object.assign({});\r\ndeepMerge(defaultOptionsRaw, defaultOptions);\r\n\r\nconst loadingConstructor = Vue.extend(Loading);\r\nconst loadingInstance = new loadingConstructor({});\r\n\r\nconst loading = (options = {}) => {\r\n    loadingInstance.$mount();\r\n\r\n    merge(loadingInstance.$props, defaultOptions, options);\r\n    loadingInstance.$props.borderRadius = getComputedStyle(loadingInstance.$props.dom).borderRadius;\r\n    loadingInstance.$props.dom.style.position = 'relative';\r\n    loadingInstance.$props.dom.appendChild(loadingInstance.$el);\r\n\r\n    loadingInstance.visible = true;\r\n    deepMerge(defaultOptions, defaultOptionsRaw);\r\n    return loadingInstance\r\n};\r\n\r\n// 单例模式服务\r\nloading.service = (options = {}) => {\r\n    const instance = new loadingConstructor({});\r\n    instance.$mount();\r\n\r\n    merge(instance.$props, defaultOptions, options);\r\n    instance.$props.borderRadius = getComputedStyle(instance.$props.dom).borderRadius;\r\n    instance.$props.dom.style.position = 'relative';\r\n\r\n    instance.id = `loading_${seed++}`;\r\n\r\n    instance.$props.dom.appendChild(instance.$el);\r\n    instance.visible = true;\r\n    instance.close = (time = 1) => {\r\n        setTimeout(() => {\r\n            instance.visible = false;\r\n            setTimeout(() => instance.$props.dom.style.position = 'unset', 500)\r\n        }, time * 1000);\r\n    };\r\n    deepMerge(defaultOptions, defaultOptionsRaw);\r\n    return instance;\r\n}\r\n\r\nloadingInstance.close = (time = 1) => {\r\n    setTimeout(() => {\r\n        loadingInstance.visible = false;\r\n        setTimeout(() => loadingInstance.$props.dom.style.position = 'unset', 500)\r\n    }, time * 1000)\r\n}\r\n\r\nexport default loading;"],"mappings":"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"}]}