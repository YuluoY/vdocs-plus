{"remainingRequest":"D:\\桌面\\vdocs-plus\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面\\vdocs-plus\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\桌面\\vdocs-plus\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\桌面\\vdocs-plus\\src\\server\\component\\h-upload.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\桌面\\vdocs-plus\\src\\server\\component\\h-upload.vue","mtime":1661333339739},{"path":"D:\\桌面\\vdocs-plus\\babel.config.js","mtime":1658807783766},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661267353134},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\babel-loader\\lib\\index.js","mtime":1661267356503},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661267353134},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\vue-loader\\lib\\index.js","mtime":1661267357130}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC1zZWFyY2gtcGFyYW1zLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgQkFTRV9VUkwgfSBmcm9tICJAL2F4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdIVXBsb2FkJywKICBwcm9wczogewogICAgc2V0SW1nVXJsOiBGdW5jdGlvbiwKICAgIGltZ1VybDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9jYWxJbWdVcmw6ICcnLAogICAgICBVUExPQURfVVJMOiAnJwogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLlVQTE9BRF9VUkwgPSBCQVNFX1VSTDsKICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZUF2YXRhclN1Y2Nlc3M6IGZ1bmN0aW9uIGhhbmRsZUF2YXRhclN1Y2Nlc3MocmVzLCBmaWxlKSB7CiAgICAgIHRoaXMubG9jYWxJbWdVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUucmF3KTsgLy8gdGhpcy5sb2NhbEltZ1VybCA9IHJlcy51cmw7CgogICAgICB0aGlzLnNldEltZ1VybCAmJiB0aGlzLnNldEltZ1VybChyZXMudXJsKTsKICAgIH0sCiAgICBiZWZvcmVBdmF0YXJVcGxvYWQ6IGZ1bmN0aW9uIGJlZm9yZUF2YXRhclVwbG9hZChmaWxlKSB7Ly8gY29uc3QgaXNKUEcgPSBmaWxlLnR5cGUgPT09ICdpbWFnZS9qcGVnJzsKICAgICAgLy8gY29uc3QgaXNMdDJNID0gZmlsZS5zaXplIC8gMTAyNCAvIDEwMjQgPCAyOwogICAgICAvLyBpZiAoIWlzSlBHKSB7CiAgICAgIC8vICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfkuIrkvKDlpLTlg4/lm77niYflj6rog73mmK8gSlBHIOagvOW8jyEnKTsKICAgICAgLy8gfQogICAgICAvLyBpZiAoIWlzTHQyTSkgewogICAgICAvLyAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5LiK5Lyg5aS05YOP5Zu+54mH5aSn5bCP5LiN6IO96LaF6L+HIDJNQiEnKTsKICAgICAgLy8gfQogICAgICAvLyByZXR1cm4gaXNKUEcgJiYgaXNMdDJNOwogICAgICAvLyByZXR1cm4gaXNMdDJNCiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;AAeA;AAEA;EACAA,eADA;EAEAC;IACAC,mBADA;IAEAC;MAAAC;MAAAC;IAAA;EAFA,CAFA;EAMAC,IANA,kBAMA;IACA;MACAC,eADA;MAEAC;IAFA;EAIA,CAXA;EAYAC,OAZA,qBAYA;IACA;EACA,CAdA;EAeAC;IACAC,mBADA,+BACAC,GADA,EACAC,IADA,EACA;MACA,iDADA,CAEA;;MACA;IACA,CALA;IAMAC,kBANA,8BAMAD,IANA,EAMA,CACA;MACA;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;EAlBA;AAfA","names":["name","props","setImgUrl","imgUrl","type","default","data","localImgUrl","UPLOAD_URL","created","methods","handleAvatarSuccess","res","file","beforeAvatarUpload"],"sourceRoot":"src/server/component","sources":["h-upload.vue"],"sourcesContent":["<template>\r\n    <div class=\"h-upload\">\r\n        <el-upload\r\n                class=\"avatar-uploader\"\r\n                :action=\"UPLOAD_URL + '/api/rest/upload'\"\r\n                :show-file-list=\"false\"\r\n                :on-success=\"handleAvatarSuccess\"\r\n                :before-upload=\"beforeAvatarUpload\">\r\n            <img v-if=\"imgUrl || localImgUrl\" :src=\"imgUrl || localImgUrl\" class=\"avatar\">\r\n            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n        </el-upload>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {BASE_URL} from \"@/axios\";\r\n\r\n    export default {\r\n        name: 'HUpload',\r\n        props: {\r\n            setImgUrl: Function,\r\n            imgUrl: {type: String, default: ''},\r\n        },\r\n        data() {\r\n            return {\r\n                localImgUrl: '',\r\n                UPLOAD_URL: ''\r\n            };\r\n        },\r\n        created() {\r\n            this.UPLOAD_URL = BASE_URL;\r\n        },\r\n        methods: {\r\n            handleAvatarSuccess(res, file) {\r\n                this.localImgUrl = URL.createObjectURL(file.raw);\r\n                // this.localImgUrl = res.url;\r\n                this.setImgUrl && this.setImgUrl(res.url)\r\n            },\r\n            beforeAvatarUpload(file) {\r\n                // const isJPG = file.type === 'image/jpeg';\r\n                // const isLt2M = file.size / 1024 / 1024 < 2;\r\n\r\n                // if (!isJPG) {\r\n                //     this.$message.error('上传头像图片只能是 JPG 格式!');\r\n                // }\r\n                // if (!isLt2M) {\r\n                //     this.$message.error('上传头像图片大小不能超过 2MB!');\r\n                // }\r\n                // return isJPG && isLt2M;\r\n                // return isLt2M\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scope>\r\n    .avatar-uploader .el-upload {\r\n        border: 1px dashed #d9d9d9;\r\n        border-radius: 6px;\r\n        cursor: pointer;\r\n        position: relative;\r\n        overflow: hidden;\r\n    }\r\n\r\n    .avatar-uploader .el-upload:hover {\r\n        border-color: #409EFF;\r\n    }\r\n\r\n    .avatar-uploader-icon {\r\n        font-size: 28px;\r\n        color: #8c939d;\r\n        width: 178px;\r\n        height: 178px;\r\n        line-height: 178px;\r\n        text-align: center;\r\n    }\r\n\r\n    .avatar {\r\n        width: 178px;\r\n        height: 178px;\r\n        display: block;\r\n    }\r\n</style>"]}]}