{"remainingRequest":"D:\\桌面\\vdocs-plus\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面\\vdocs-plus\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\桌面\\vdocs-plus\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\桌面\\vdocs-plus\\src\\components\\comment\\h-comment-area.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\桌面\\vdocs-plus\\src\\components\\comment\\h-comment-area.vue","mtime":1660980617730},{"path":"D:\\桌面\\vdocs-plus\\babel.config.js","mtime":1658807783766},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661267353134},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\babel-loader\\lib\\index.js","mtime":1661267356503},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661267353134},{"path":"D:\\桌面\\vdocs-plus\\node_modules\\vue-loader\\lib\\index.js","mtime":1661267357130}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90eXBlb2YgZnJvbSAiRDovXHU2ODRDXHU5NzYyL3Zkb2NzLXBsdXMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZi5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJEOi9cdTY4NENcdTk3NjIvdmRvY3MtcGx1cy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zdWIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS1hbGwuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSENvbW1lbnRBcmVhIiwKICBwcm9wczogewogICAgaXNSZXBseVN0YXRlOiBCb29sZWFuLAogICAgaWQ6IFN0cmluZwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1vZGVsOiB7CiAgICAgICAgaW1nVXJsOiByZXF1aXJlKCdAL2Fzc2V0cy9pbWcvMS5qcGcnKSwKICAgICAgICBuYW1lOiAnJywKICAgICAgICBlbWFpbDogJycsCiAgICAgICAgYWRkcmVzczogJycsCiAgICAgICAgY29udGVudDogJycsCiAgICAgICAgd29yZHM6IDAsCiAgICAgICAgY25hbWU6ICcnCiAgICAgIH0sCiAgICAgIGhpbnRzOiB7CiAgICAgICAgbmFtZUhpbnQ6ICdRUS/ljL/lkI3mmLXnp7AnLAogICAgICAgIGVtYWlsSGludDogJ+mCrueusScsCiAgICAgICAgYWRkcmVzc0hpbnQ6ICfljZrlrqLnvZHlnYAnLAogICAgICAgIGNvbnRlbnRIaW50OiAn5piv5pe25YCZ5bGV546w5L2g55yf5q2j55qE5oqA5pyv5LqG77yB77yI5o+Q56S677ya6L6T5YWlUVHlj7fkvJroh6rliqjloavlhpnlpLTlg4/lkozpgq7nrrHlk6Z+77yJJwogICAgICB9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IG1hcFN0YXRlKHsKICAgIGJyb3dzZXJUeXBlOiBmdW5jdGlvbiBicm93c2VyVHlwZShzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuYXBwLmJyb3dzZXJUeXBlOwogICAgfQogIH0pLAogIG1ldGhvZHM6IHsKICAgIC8vIOWPkeW4g+ivhOiuugogICAgb25SZWxlYXNlOiBmdW5jdGlvbiBvblJlbGVhc2UoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBicmFuZEluZm8sIHN5c3RlbSwgYnJvd3NlciwgdXNlckluZm8sIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpcy5tb2RlbC5jb250ZW50LnRyaW0oKSA9PT0gJycpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfmgqjov5jmsqHmnInloavlhpnku7vkvZXor4Torrrlk6bvvIEnKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgYnJhbmRJbmZvID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5yZXBsYWNlKC8oXCgpfChcKSkvZywgJycpLnNwbGl0KCcgJyk7CiAgICAgICAgICAgICAgICBzeXN0ZW0gPSAiIi5jb25jYXQoYnJhbmRJbmZvWzFdLCAiICIpLmNvbmNhdChicmFuZEluZm9bM10pLnJlcGxhY2UoLyhcLjApfCg7KS9nLCAnJyk7CiAgICAgICAgICAgICAgICBicm93c2VyID0gX3RoaXMuYnJvd3NlclR5cGU7CgogICAgICAgICAgICAgICAgaWYgKF90aGlzLmJyb3dzZXJUeXBlID09PSAnQ2hyb21lJykgewogICAgICAgICAgICAgICAgICBicm93c2VyID0gYnJhbmRJbmZvWzEwXS5yZXBsYWNlKC8oXC8pL2csICcgJyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzLmJyb3dzZXJUeXBlID09PSAnRmlyZWZveCcpIHsKICAgICAgICAgICAgICAgICAgYnJvd3NlciA9IGJyYW5kSW5mb1s4XS5yZXBsYWNlKC8oXC8pL2csICcgJyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzLmJyb3dzZXJUeXBlID09PSAnUVFCcm93c2VyJykgewogICAgICAgICAgICAgICAgICBicm93c2VyID0gYnJhbmRJbmZvWzEyXS5yZXBsYWNlKC8oXC8pL2csICcgJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMubW9kZWwubmFtZSA9PT0gJycgJiYgKF90aGlzLm1vZGVsLm5hbWUgPSAnQW5vbnltb3VzJyk7CiAgICAgICAgICAgICAgICBfdGhpcy5tb2RlbC5hZGRyZXNzID09PSAnJyAmJiAoX3RoaXMubW9kZWwuYWRkcmVzcyA9ICcjJyk7CiAgICAgICAgICAgICAgICBfdGhpcy5tb2RlbC5zeXN0ZW0gPSBzeXN0ZW07IC8vIOaTjeS9nOezu+e7nwoKICAgICAgICAgICAgICAgIF90aGlzLm1vZGVsLmJyb3dzZXIgPSBicm93c2VyOyAvLyDmtY/op4jlmajlj4LmlbAKCiAgICAgICAgICAgICAgICBfdGhpcy5tb2RlbC5wYXRoID0gZGVjb2RlVVJJKF90aGlzLiRyb3V0ZS5wYXRoKTsgLy8g6aG16Z2iCgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRhcGlzLnJlc3QuZ2V0VXNlcklwKCk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICB1c2VySW5mbyA9IF9jb250ZXh0LnNlbnQuZGF0YTsKCiAgICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuVlVFX0FQUF9CQVNFX0FQSSA9PT0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCcpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMubW9kZWwuY25hbWUgPSB1c2VySW5mby5jbmFtZTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLm1vZGVsLmNuYW1lID0gdXNlckluZm8ucHJvdmluY2U7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzLmlkKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLm1vZGVsLnN1YiA9IF90aGlzLmlkOwogICAgICAgICAgICAgICAgICBfdGhpcy5tb2RlbC5pc1N1YiA9IHRydWU7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE5OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRhcGlzLndlYi5hZGRDb21tZW50KF90aGlzLm1vZGVsKTsKCiAgICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlcykgewogICAgICAgICAgICAgICAgICBfdGhpcy4kbm90aWZ5LnN1Y2Nlc3MoIiIuY29uY2F0KF90aGlzLm1vZGVsLm5hbWUsICJcdTYyMTBcdTUyOUZcdTUzRDFcdTVFMDNcdTRFMDBcdTY3NjFcdThCQzRcdThCQkFcdUZGMDEiKSk7CgogICAgICAgICAgICAgICAgICBfdGhpcy4kcmVmcy50ZXh0YXJlYS5pbm5lckhUTUwgPSBfdGhpcy5oaW50cy5jb250ZW50SGludDsKICAgICAgICAgICAgICAgICAgX3RoaXMubW9kZWwgPSB7CiAgICAgICAgICAgICAgICAgICAgaW1nVXJsOiByZXF1aXJlKCdAL2Fzc2V0cy9pbWcvMS5qcGcnKSwKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnJywKICAgICAgICAgICAgICAgICAgICBlbWFpbDogJycsCiAgICAgICAgICAgICAgICAgICAgYWRkcmVzczogJycsCiAgICAgICAgICAgICAgICAgICAgY29udGVudDogJycsCiAgICAgICAgICAgICAgICAgICAgd29yZHM6IDAKICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoJ2NvbW1lbnQvc2V0Q29tbWVudHNCeVBhdGgnLCBfdGhpcyk7CgogICAgICAgICAgICAgICAgICBfdGhpcy4kZW1pdCgnb25SZXBseVN0YXRlQ2hhbmdlJywgJ2luaXQnKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBvbkNoYW5nZUNvbnRlbnQ6IGZ1bmN0aW9uIG9uQ2hhbmdlQ29udGVudCgpIHsKICAgICAgdGhpcy5tb2RlbC5jb250ZW50ID0gdGhpcy4kcmVmcy50ZXh0YXJlYS5pbm5lclRleHQ7CiAgICAgIHRoaXMubW9kZWwud29yZHMgPSB0aGlzLnJlcGxhY2VBbGwodGhpcy5tb2RlbC5jb250ZW50LCBbJyZuYnNwOycsICcgJywgJzxicj4nLCAnPGRpdj4nLCAnPC9kaXY+J10sICcnKS5sZW5ndGg7CiAgICB9LAogICAgZ2V0VXNlckluZm86IGZ1bmN0aW9uIGdldFVzZXJJbmZvKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciB1c2VyID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlclFRSW5mbycpIHx8ICJ7fSIpLmRhdGE7IC8vIGlmICh1c2VyICYmIHVzZXIubmFtZSA9PT0gdGhpcy5uYW1lKSByZXR1cm47CgogICAgICBpZiAodGhpcy5tb2RlbC5uYW1lKSB7CiAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgICAgIHhoci5vcGVuKCdHRVQnLCAnaHR0cHM6Ly9hcGkudXN1dXUuY29tL3FxLycgKyB0aGlzLm1vZGVsLm5hbWUpOwogICAgICAgIHhoci5zZW5kKCk7CgogICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQpIHsKICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPCAzMDApIHsKICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlclFRSW5mbycsIHhoci5yZXNwb25zZSk7CiAgICAgICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZSkuZGF0YTsKICAgICAgICAgICAgICBfdGhpczIubW9kZWwubmFtZSA9IGRhdGEubmFtZTsKICAgICAgICAgICAgICBfdGhpczIubW9kZWwuaW1nVXJsID0gZGF0YS5hdmF0YXI7CiAgICAgICAgICAgICAgX3RoaXMyLm1vZGVsLmVtYWlsID0gIiIuY29uY2F0KGRhdGEucXEsICJAcXEuY29tIik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgX3RoaXMyLm1vZGVsLmltZ1VybCA9IHJlcXVpcmUoJ0AvYXNzZXRzL2ltZy8xLmpwZycpOwogICAgICAgICAgICAgIF90aGlzMi5tb2RlbC5lbWFpbCA9ICcnOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLm1vZGVsLmltZ1VybCA9IHJlcXVpcmUoJ0AvYXNzZXRzL2ltZy8xLmpwZycpOwogICAgICAgIHRoaXMubW9kZWwuZW1haWwgPSAnJzsKICAgICAgfQogICAgfSwKICAgIHJlcGxhY2VBbGw6IGZ1bmN0aW9uIHJlcGxhY2VBbGwoc3RyLCBzZWFyY2hWYWwsIHJlcGxWYWwpIHsKICAgICAgaWYgKHR5cGVvZiBzZWFyY2hWYWwgPT09ICJzdHJpbmciKSB7CiAgICAgICAgc3RyID0gc3RyLnJlcGxhY2VBbGwoc2VhcmNoVmFsLCByZXBsVmFsKTsKICAgICAgfSBlbHNlIGlmIChfdHlwZW9mKHNlYXJjaFZhbCkgPT09ICdvYmplY3QnKSB7CiAgICAgICAgc2VhcmNoVmFsLmZvckVhY2goZnVuY3Rpb24gKHMpIHsKICAgICAgICAgIHJldHVybiBzdHIgPSBzdHIucmVwbGFjZUFsbChzLCByZXBsVmFsKTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgcmV0dXJuIHN0cjsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJRUUluZm8nKSB8fCAne30nKS5kYXRhOwoKICAgIGlmIChkYXRhKSB7CiAgICAgIHRoaXMubW9kZWwubmFtZSA9IGRhdGEubmFtZTsKICAgICAgdGhpcy5tb2RlbC5pbWdVcmwgPSBkYXRhLmF2YXRhcjsKICAgICAgdGhpcy5tb2RlbC5lbWFpbCA9ICIiLmNvbmNhdChkYXRhLnFxLCAiQHFxLmNvbSIpOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;AAEA;EACAA,oBADA;EAEAC;IACAC,qBADA;IAEAC;EAFA,CAFA;EAMAC,IANA,kBAMA;IACA;MACAC;QACAC,qCADA;QAEAN,QAFA;QAGAO,SAHA;QAIAC,WAJA;QAKAC,WALA;QAMAC,QANA;QAOAC;MAPA,CADA;MAUAC;QACAC,mBADA;QAEAC,eAFA;QAGAC,mBAHA;QAIAC;MAJA;IAVA;EAiBA,CAxBA;EAyBAC;IACAC;MAAA;IAAA;EADA,EAzBA;EA4BAC;IACA;IACAC,SAFA,uBAEA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,MACA,iCADA;kBAAA;kBAAA;gBAAA;;gBAEA;;gBAFA;;cAAA;gBAKAC,SALA,GAKAC,wDALA;gBAMAC,MANA,GAMA,2EANA;gBAOAC,OAPA,GAOA,iBAPA;;gBASA;kBACAA;gBACA,CAFA,MAEA;kBACAA;gBACA,CAFA,MAEA;kBACAA;gBACA;;gBAEA;gBACA;gBACA,4BAnBA,CAmBA;;gBACA,8BApBA,CAoBA;;gBACA,gDArBA,CAqBA;;gBArBA;gBAAA,OAuBA,4BAvBA;;cAAA;gBAuBAC,QAvBA,iBAuBArB,IAvBA;;gBAwBA;kBACA;gBACA,CAFA,MAEA;kBACA;gBACA;;gBAEA;kBACA;kBACA;gBACA;;gBAjCA;gBAAA,OAmCA,uCAnCA;;cAAA;gBAmCAsB,GAnCA;;gBAoCA;kBACA;;kBACA;kBACA;oBACApB,qCADA;oBAEAN,QAFA;oBAGAO,SAHA;oBAIAC,WAJA;oBAKAC,WALA;oBAMAC;kBANA;;kBAQA;;kBACA;gBACA;;cAjDA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAkDA,CApDA;IAsDAiB,eAtDA,6BAsDA;MACA;MACA,uDACA,0CADA,EACA,EADA,EACAC,MADA;IAEA,CA1DA;IA2DAC,WA3DA,yBA2DA;MAAA;;MACA,uEADA,CAEA;;MACA;QACA;QACAC;QACAA;;QACAA;UACA;YACA;cACAC;cACA;cACA;cACA;cACA;YACA,CANA,MAMA;cACA;cACA;YACA;UACA;QACA,CAbA;MAcA,CAlBA,MAkBA;QACA;QACA;MACA;IACA,CApFA;IAsFAC,UAtFA,sBAsFAC,GAtFA,EAsFAC,SAtFA,EAsFAC,OAtFA,EAsFA;MACA;QACAF;MACA,CAFA,MAEA;QACAC;UAAA;QAAA;MACA;;MACA;IACA;EA7FA,CA5BA;EA2HAE,OA3HA,qBA2HA;IACA;;IACA;MACA;MACA;MACA;IACA;EACA;AAlIA","names":["name","props","isReplyState","id","data","model","imgUrl","email","address","content","words","cname","hints","nameHint","emailHint","addressHint","contentHint","computed","browserType","methods","onRelease","brandInfo","navigator","system","browser","userInfo","res","onChangeContent","length","getUserInfo","xhr","localStorage","replaceAll","str","searchVal","replVal","mounted"],"sourceRoot":"src/components/comment","sources":["h-comment-area.vue"],"sourcesContent":["<template>\r\n    <div class=\"h-comment-area\">\r\n        <div class=\"h-comment\">\r\n            <div class=\"header\">\r\n                <div class=\"img\">\r\n                    <img :src=\"model.imgUrl\"/>\r\n                </div>\r\n                <div class=\"name\">\r\n                    <input v-model.trim=\"model.name\" :placeholder=\"hints.nameHint\" @focusout=\"getUserInfo\"/>\r\n                </div>\r\n                <div class=\"email\">\r\n                    <input v-model.trim=\"model.email\" :placeholder=\"hints.emailHint\"/>\r\n                </div>\r\n                <div class=\"address\">\r\n                    <input v-model.trim=\"model.address\" :placeholder=\"hints.addressHint\"/>\r\n                </div>\r\n            </div>\r\n            <div class=\"center\">\r\n                <div class=\"content\">\r\n                    <div\r\n                            ref=\"textarea\"\r\n                            class=\"textarea\"\r\n                            @input=\"onChangeContent\"\r\n                            :style=\"`color:${model.words ? 'black':'silver'}`\"\r\n                            @focus=\"!model.words && ($refs.textarea.innerText = '')\"\r\n                            @focusout=\"!model.words && ($refs.textarea.innerHTML = hints.contentHint)\"\r\n                            contenteditable=\"true\">\r\n                        {{ hints.contentHint }}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"footer\">\r\n                <div class=\"count\">\r\n                    <div class=\"words\">字数统计：{{ model.words }}</div>\r\n                </div>\r\n                <div class=\"function\">\r\n                    <span @click.prevent=\"onRelease\">发布</span>\r\n                </div>\r\n            </div>\r\n            <div class=\"close-sub-comment-area\"\r\n                 @click=\"$emit('onReplyStateChange','init')\"\r\n                 v-if=\"!isReplyState\">\r\n                <svg-icon icon-class=\"close\"></svg-icon>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {mapState} from \"vuex\";\r\n\r\n    export default {\r\n        name: \"HCommentArea\",\r\n        props: {\r\n            isReplyState: Boolean,\r\n            id: String,\r\n        },\r\n        data() {\r\n            return {\r\n                model: {\r\n                    imgUrl: require('@/assets/img/1.jpg'),\r\n                    name: '',\r\n                    email: '',\r\n                    address: '',\r\n                    content: '',\r\n                    words: 0,\r\n                    cname: ''\r\n                },\r\n                hints: {\r\n                    nameHint: 'QQ/匿名昵称',\r\n                    emailHint: '邮箱',\r\n                    addressHint: '博客网址',\r\n                    contentHint: '是时候展现你真正的技术了！（提示：输入QQ号会自动填写头像和邮箱哦~）',\r\n                }\r\n            }\r\n        },\r\n        computed: mapState({\r\n            browserType: state => state.app.browserType,\r\n        }),\r\n        methods: {\r\n            // 发布评论\r\n            async onRelease() {\r\n                if (this.model.content.trim() === '') {\r\n                    this.$message.warning('您还没有填写任何评论哦！')\r\n                    return;\r\n                }\r\n                const brandInfo = navigator.userAgent.replace(/(\\()|(\\))/g, '').split(' ');\r\n                const system = `${brandInfo[1]} ${brandInfo[3]}`.replace(/(\\.0)|(;)/g, '');\r\n                let browser = this.browserType;\r\n\r\n                if (this.browserType === 'Chrome') {\r\n                    browser = brandInfo[10].replace(/(\\/)/g, ' ');\r\n                } else if (this.browserType === 'Firefox') {\r\n                    browser = brandInfo[8].replace(/(\\/)/g, ' ');\r\n                } else if (this.browserType === 'QQBrowser') {\r\n                    browser = brandInfo[12].replace(/(\\/)/g, ' ');\r\n                }\r\n\r\n                this.model.name === '' && (this.model.name = 'Anonymous')\r\n                this.model.address === '' && (this.model.address = '#')\r\n                this.model.system = system; // 操作系统\r\n                this.model.browser = browser; // 浏览器参数\r\n                this.model.path = decodeURI(this.$route.path);  // 页面\r\n\r\n                const userInfo = (await this.$apis.rest.getUserIp()).data;\r\n                if (process.env.VUE_APP_BASE_API === 'http://localhost:3000') {\r\n                    this.model.cname = userInfo.cname\r\n                } else {\r\n                    this.model.cname = userInfo.province;\r\n                }\r\n\r\n                if (this.id) {\r\n                    this.model.sub = this.id\r\n                    this.model.isSub = true;\r\n                }\r\n\r\n                const res = await this.$apis.web.addComment(this.model);\r\n                if (res) {\r\n                    this.$notify.success(`${this.model.name}成功发布一条评论！`)\r\n                    this.$refs.textarea.innerHTML = this.hints.contentHint;\r\n                    this.model = {\r\n                        imgUrl: require('@/assets/img/1.jpg'),\r\n                        name: '',\r\n                        email: '',\r\n                        address: '',\r\n                        content: '',\r\n                        words: 0,\r\n                    }\r\n                    this.$store.commit('comment/setCommentsByPath', this);\r\n                    this.$emit('onReplyStateChange', 'init')\r\n                }\r\n            },\r\n\r\n            onChangeContent() {\r\n                this.model.content = this.$refs.textarea.innerText;\r\n                this.model.words = this.replaceAll(this.model.content,\r\n                    ['&nbsp;', ' ', '<br>', '<div>', '</div>'], '').length;\r\n            },\r\n            getUserInfo() {\r\n                const user = JSON.parse(localStorage.getItem('userQQInfo') || \"{}\").data;\r\n                // if (user && user.name === this.name) return;\r\n                if (this.model.name) {\r\n                    const xhr = new XMLHttpRequest();\r\n                    xhr.open('GET', 'https://api.usuuu.com/qq/' + this.model.name);\r\n                    xhr.send();\r\n                    xhr.onreadystatechange = () => {\r\n                        if (xhr.readyState === 4) {\r\n                            if (xhr.status >= 200 && xhr.status < 300) {\r\n                                localStorage.setItem('userQQInfo', xhr.response);\r\n                                const data = JSON.parse(xhr.response).data;\r\n                                this.model.name = data.name;\r\n                                this.model.imgUrl = data.avatar;\r\n                                this.model.email = `${data.qq}@qq.com`\r\n                            } else {\r\n                                this.model.imgUrl = require('@/assets/img/1.jpg');\r\n                                this.model.email = ''\r\n                            }\r\n                        }\r\n                    }\r\n                } else {\r\n                    this.model.imgUrl = require('@/assets/img/1.jpg');\r\n                    this.model.email = ''\r\n                }\r\n            },\r\n\r\n            replaceAll(str, searchVal, replVal) {\r\n                if (typeof searchVal === \"string\") {\r\n                    str = str.replaceAll(searchVal, replVal);\r\n                } else if (typeof searchVal === 'object') {\r\n                    searchVal.forEach(s => str = str.replaceAll(s, replVal))\r\n                }\r\n                return str;\r\n            }\r\n        },\r\n        mounted() {\r\n            const data = JSON.parse(localStorage.getItem('userQQInfo') || '{}').data;\r\n            if (data) {\r\n                this.model.name = data.name;\r\n                this.model.imgUrl = data.avatar;\r\n                this.model.email = `${data.qq}@qq.com`\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .h-comment-area {\r\n    .h-comment {\r\n      width: 80em;\r\n      border-radius: 5px;\r\n      box-shadow: 0px 0px 10px silver;\r\n      margin: 30px auto;\r\n      font-size: .8em;\r\n      position: relative;\r\n      z-index: 10;\r\n\r\n      .header {\r\n        display: flex;\r\n        padding: 0 1em;\r\n\r\n        .img {\r\n          img {\r\n            width: 50px;\r\n            height: 50px;\r\n            border-radius: 5px;\r\n            margin-top: 10px;\r\n            margin-right: 10px;\r\n          }\r\n        }\r\n\r\n        .name {\r\n          line-height: 78px;\r\n          flex: 1;\r\n        }\r\n\r\n        .email {\r\n          line-height: 78px;\r\n          flex: 1;\r\n        }\r\n\r\n        .address {\r\n          line-height: 78px;\r\n          flex: 1;\r\n        }\r\n\r\n        input {\r\n          line-height: 3em;\r\n          display: inline-block;\r\n          width: 100%;\r\n          border: none;\r\n          border-bottom: 1px dashed rgba(0, 0, 0, 0.2);\r\n          font-size: 1.3em;\r\n\r\n          &:focus {\r\n            outline: none;\r\n            border: none;\r\n            border-bottom: 1px dashed #409eff;\r\n          }\r\n        }\r\n      }\r\n\r\n      .center {\r\n        width: 100%;\r\n        position: relative;\r\n\r\n        .content {\r\n          width: 98%;\r\n          margin: 0 auto;\r\n          padding: 1em;\r\n\r\n          .textarea {\r\n            outline: none;\r\n            border: none;\r\n            word-break: break-all;\r\n            width: 100%;\r\n            min-height: 220px;\r\n            overflow: hidden;\r\n            font-family: 宋体, sans-serif;\r\n            font-size: 1.2em;\r\n          }\r\n        }\r\n      }\r\n\r\n      .footer {\r\n        border-top: dashed 1px silver;\r\n        display: flex;\r\n\r\n        .function {\r\n          flex-grow: 1;\r\n          text-align: right;\r\n\r\n          span {\r\n            user-select: none;\r\n            border: dashed 1.5px silver;\r\n            line-height: 3em;\r\n            padding: 7px;\r\n            margin-right: 5px;\r\n            background-color: unset;\r\n            font-size: 1.4em;\r\n            transition: 1s;\r\n            cursor: pointer;\r\n            color: rgba(0, 0, 0, 0.7);\r\n\r\n            &:hover {\r\n              color: #409eff;\r\n              border: solid 1.5px #409eff;\r\n            }\r\n          }\r\n        }\r\n\r\n        .count {\r\n          width: auto;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          padding: 1em;\r\n\r\n          .words {\r\n            font-size: 1.2em;\r\n            color: silver;\r\n          }\r\n        }\r\n      }\r\n\r\n      .close-sub-comment-area {\r\n        position: absolute;\r\n        right: 10px;\r\n        top: 10px;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        z-index: 9999999999;\r\n        cursor: pointer;\r\n        font-size: 2em;\r\n        color: silver;\r\n        border: dashed 1.5px silver;\r\n        transition: 1s;\r\n\r\n        div {\r\n          padding: 0 8px;\r\n        }\r\n\r\n        &:hover {\r\n          border: solid 1.5px #409eff;\r\n          color: #409eff;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>"]}]}